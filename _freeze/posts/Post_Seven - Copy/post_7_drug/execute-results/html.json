{
  "hash": "d72aebb2b69d6c4715de4adf0d7e7c46",
  "result": {
    "markdown": "---\ntitle: \"POST 7\"\nsubtitle: \"Network Block Modeling - Geographical Comparisson\"\nauthor: \"Sue-Ellen Duffy\"\ndate: \"2024-05-03\"\ncategories: [code, analysis, block_model]\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(igraph)\nlibrary(sna)\nlibrary(intergraph)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(tmap)\nlibrary(tigris)\nlibrary(stplanr)\n```\n:::\n\n\nThis post will explore the Synthetic Mass network data in more detail.\n\n# Read in Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\npat_attr <- read_csv(\"post5drug_data/pat_attr.csv\", \n    col_types = cols(...1 = col_skip()))\npro_attr <- read_csv(\"post5drug_data/pro_attr.csv\", \n    col_types = cols(...1 = col_skip()))\nencounters_cleaning <- read_csv(\"post5drug_data//encounters_cleaning.csv\", \n    col_types = cols(...1 = col_skip()))\nencounters_cleaned <- read_csv(\"post5drug_data//encounters_cleaned.csv\", \n    col_types = cols(...1 = col_skip()))\nencounter_attributes <- read_csv(\"post5drug_data/encounter_attributes.csv\", \n    col_types = cols(...1 = col_skip()))\nencounters_el  <- read_csv(\"post5drug_data/encounters_el.csv\", \n    col_types = cols(...1 = col_skip()))\nencounters_st_3 <- read_csv(\"post5drug_data/encounters.st.3.csv\", \n    col_types = cols(...1 = col_skip()))\nattribute_list <- read.csv(\"post5drug_data/attribute_list.csv\")\npat_blks6 <- readRDS(\"pat_blks6_results.rds\")\nprov_blks6 <- readRDS(\"prov_blks6_results.rds\")\n```\n:::\n\n\n# Create bipartite network with attributes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nencounters.stat <- network(encounters_el,\n                         directed = FALSE,\n                         bipartite = TRUE,\n                         matrix.type = \"edgelist\",\n                         vertex.attr = attribute_list)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#create igraph\nencounters.ig <- graph_from_biadjacency_matrix(encounters.stat)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nencounters.stat2 <- asNetwork(encounters.ig)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprojected_graph <- bipartite_projection(encounters.ig)\n```\n:::\n\n\n\n## PROVIDER\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprovider_matrix <- as.matrix(as_adjacency_matrix(projected_graph$proj2))\nlibrary(intergraph)\ndetach(\"package:igraph\")\nlibrary(statnet)\nprovider.stat <- asNetwork(projected_graph$proj2)\n\nprovider.se <- equiv.clust(provider_matrix,\n equiv.fun = \"sedist\",\n method = \"hamming\",\n mode = \"graph\",\n cluster.method = \"complete\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nblk_model.provider.org <- blockmodel(provider_matrix,\n provider.se, k = 6)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprov_blks6 <- readRDS(\"prov_blks6_results.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# blockmodel with optimized partition\nprov_blk_mod <- blockmodel(provider_matrix, prov_blks6$best$best1$clu,\n                      plabels = rownames(provider_matrix))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#assign block membership to vertex attribute\nprovider.stat%v%\"role\"<-prov_blk_mod$block.membership[match(provider.stat%v%\"vertex.names\",prov_blk_mod$plabels)]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nattributes <- dumpAttr(provider.stat)\n# Extracting roles and vertex names\nroles <- attributes$vertex$role\nvertex_names <- attributes$vertex$vertex.names\n\n# Creating a dataframe\nrole_vertex_df <- data.frame(vertex.names = vertex_names, role = roles)\n\n# Displaying the first few rows of the dataframe\n\nhead(role_vertex_df %>%\n  arrange(desc(vertex.names)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            vertex.names role\n1      Zachery872 Rau926    1\n2    Zachery872 Pagac496    3\n3     Waylon572 Lakin515    3\n4     Virgen207 Hyatt152    5\n5 Vicente970 Armstrong51    5\n6      Vern731 Casper496    3\n```\n:::\n\n```{.r .cell-code}\nhead(pro_attr %>%\n  arrange(desc(NAME)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 5\n  NAME                   GENDER CITY       type     block\n  <chr>                  <chr>  <chr>      <chr>    <dbl>\n1 Zachery872 Rau926      Male   walpole    PROVIDER     1\n2 Zachery872 Pagac496    Male   melrose    PROVIDER     3\n3 Waylon572 Lakin515     Male   woburn     PROVIDER     3\n4 Virgen207 Hyatt152     Female stoneham   PROVIDER     5\n5 Vicente970 Armstrong51 Male   stoneham   PROVIDER     5\n6 Vern731 Casper496      Male   swampscott PROVIDER     3\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extracting vertex attributes\nvertex_data <- data.frame(\n  role = get.vertex.attribute(provider.stat, \"role\"),\n  vertex.names = get.vertex.attribute(provider.stat, \"vertex.names\")\n)\n\n# Displaying the first few rows of the dataframe\nhead(vertex_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  role              vertex.names\n1    3        Elijah719 White193\n2    3         Fidel864 Swift555\n3    5        Virgen207 Hyatt152\n4    3       Zachery872 Pagac496\n5    3 Kristopher775 Schiller186\n6    3        Laine739 Torphy630\n```\n:::\n:::\n\n\n\n\n#So, lets geographically map this network\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'leaflet' was built under R version 4.3.3\n```\n:::\n:::\n\n\n#add lat and lon back into the attributes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(encounters_cleaned)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 51\n  ENCOUNTER_ID    START               STOP                PATIENT ORGANIZATION.x\n  <chr>           <dttm>              <dttm>              <chr>   <chr>         \n1 1b544ceb-bfe9-… 2000-11-11 13:33:09 2000-11-11 14:33:09 Annice… db28cc9a-fdfb…\n2 0d642d81-9624-… 2001-03-30 13:33:09 2001-03-30 14:33:09 Annice… db28cc9a-fdfb…\n3 99d190e1-6727-… 2001-11-28 13:33:09 2001-11-28 14:33:09 Annice… db28cc9a-fdfb…\n4 cc076374-d33d-… 2004-09-03 13:33:09 2004-09-03 14:31:19 Annice… 3d5fbf38-c781…\n5 05a24332-4d5a-… 2005-09-09 13:33:09 2005-09-09 14:16:34 Annice… 3d5fbf38-c781…\n6 8844f58d-3e5e-… 2008-09-12 13:33:09 2008-09-12 14:28:22 Annice… 3d5fbf38-c781…\n# ℹ 46 more variables: PROVIDER <chr>, PAYER <chr>, ENCOUNTERCLASS <chr>,\n#   CODE <dbl>, DESCRIPTION <chr>, BASE_ENCOUNTER_COST <dbl>,\n#   TOTAL_CLAIM_COST <dbl>, PAYER_COVERAGE <dbl>, REASONCODE <dbl>,\n#   REASONDESCRIPTION <chr>, ORGANIZATION.y <chr>, GENDER.x <chr>,\n#   SPECIALITY <chr>, ADDRESS.x <chr>, CITY.x <chr>, STATE.x <chr>,\n#   ZIP.x <chr>, LAT.x <dbl>, LON.x <dbl>, ENCOUNTERS <dbl>, PROCEDURES <dbl>,\n#   BIRTHDATE <date>, DEATHDATE <date>, SSN <chr>, DRIVERS <chr>, …\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_reconnected <- merge(pro_attr, encounters_cleaned, by.x = \"NAME\", by.y = \"PROVIDER\", all.x = TRUE)\n\ndf_coords<- df_reconnected\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_coords <- df_coords %>%\n  select(NAME, GENDER, CITY, type, block, LAT.x, LON.x) %>%\n  group_by(NAME)\n\n# Keep only one row of each unique \"NAME\"\ndf_coords <- df_coords %>%\n  distinct(NAME, .keep_all = TRUE) %>%\n  rename(LAT = LAT.x) %>%\n  rename(LON = LON.x)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Display the resulting dataframe\nhead(df_coords)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 7\n# Groups:   NAME [6]\n  NAME                GENDER CITY          type     block   LAT   LON\n  <chr>               <chr>  <chr>         <chr>    <dbl> <dbl> <dbl>\n1 Abdul218 Boyer713   Male   needham       PROVIDER     3  42.3 -71.2\n2 Adán600 Alicea505   Male   centerville   PROVIDER     3  41.6 -70.3\n3 Agnes294 Dooley940  Female fall river    PROVIDER     3  41.7 -71.1\n4 Alberto639 Adame662 Male   saugus        PROVIDER     6  42.5 -71.0\n5 Allyson474 Doyle959 Female west yarmouth PROVIDER     5  41.7 -70.2\n6 Almeta56 Lehner980  Female greenfield    PROVIDER     5  42.6 -72.6\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npat_df_coords <- df_reconnected %>%\n  select(PATIENT, GENDER.y, RACE, CITY.y,  LAT.y, LON.y) %>%\n  group_by(PATIENT)\n\n# Keep only one row of each unique \"NAME\"\npat_df_coords <- pat_df_coords %>%\n  rename(NAME = PATIENT) %>%\n  distinct(NAME, .keep_all = TRUE) %>%\n  rename(CITY = CITY.y) %>%\n  rename(GENDER = GENDER.y) %>%\n  rename(LAT = LAT.y) %>%\n  rename(LON = LON.y)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(pat_df_coords)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n# Groups:   NAME [6]\n  NAME                    GENDER RACE  CITY            LAT   LON\n  <chr>                   <chr>  <chr> <chr>         <dbl> <dbl>\n1 Dinorah501 Bechtelar572 Female white newton         42.3 -71.3\n2 Cherise743 Prosacco716  Female white newton         42.3 -71.2\n3 Rod343 Prosacco716      Male   white east sandwich  41.7 -70.4\n4 Chaya236 Sporer811      Female asian fall river     41.6 -71.1\n5 Leonel449 Witting912    Male   white lynn           42.5 -71.0\n6 Rudy520 Hettinger594    Male   white yarmouth port  41.7 -70.3\n```\n:::\n\n```{.r .cell-code}\npat_df_coords$type <- \"PATIENT\"\npat_attr\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 86 × 9\n   NAME                   GENDER RACE  MARITAL  CITY    INCOME   AGE type  block\n   <chr>                  <chr>  <chr> <chr>    <chr>    <dbl> <dbl> <chr> <dbl>\n 1 Annice210 Gleason633   Female white Married  brookl…   1565    37 PATI…     6\n 2 Julianne852 Barrows492 Female white Widowed  hamilt…  39537    65 PATI…     6\n 3 Alesha810 Heaney114    Female white Divorced framin… 114339    46 PATI…     6\n 4 Sandee884 Rice937      Female white <NA>     taunton  96256    26 PATI…     6\n 5 Mia349 Runte676        Female white Divorced chelms…  71238    44 PATI…     6\n 6 Damian46 Dach178       Male   white <NA>     swansea  74155    26 PATI…     6\n 7 Nelida367 Emard19      Female white Single   brookl… 501039    30 PATI…     4\n 8 Anthony633 Kutch271    Male   asian <NA>     framin… 671128    26 PATI…     6\n 9 Mose244 Cummerata161   Male   black Single   saugus  125860    46 PATI…     6\n10 Shila857 Heller342     Female white <NA>     marion  134195    22 PATI…     2\n# ℹ 76 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmerged_df <- merge(pat_df_coords, pat_attr[, c(\"NAME\", \"block\")], by = \"NAME\", all.x = TRUE)\nboth_df <- bind_rows(merged_df, df_coords)\nhead(both_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                     NAME GENDER  RACE       CITY      LAT       LON    type\n1        Adam631 Hoppe518   Male white  cambridge 42.41904 -71.07128 PATIENT\n2     Alesha810 Heaney114 Female white framingham 42.23666 -71.46729 PATIENT\n3 Alissa315 Altenwerth646 Female white  wakefield 42.45483 -71.09130 PATIENT\n4    Analisa263 Kohler843 Female white     boston 42.38900 -71.04350 PATIENT\n5    Annice210 Gleason633 Female white  brookline 42.38652 -71.11319 PATIENT\n6     Anthony633 Kutch271   Male asian framingham 42.32681 -71.41111 PATIENT\n  block\n1     6\n2     6\n3     5\n4     6\n5     6\n6     6\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npro_attr_list_zip <- do.call(list,df_coords)\npat_attr_list_zip <- do.call(list,pat_df_coords)\nattribute_list_zip <- do.call(list, both_df)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nencounters.geo.stat <- network(encounters_el,\n                         directed = FALSE,\n                         bipartite = TRUE,\n                         matrix.type = \"edgelist\",\n                         vertex.attr = attribute_list_zip)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(igraph)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'igraph' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'igraph'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:tigris':\n\n    blocks\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:sna':\n\n    betweenness, bonpow, closeness, components, degree, dyad.census,\n    evcent, hierarchy, is.connected, neighborhood, triad.census\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:network':\n\n    %c%, %s%, add.edges, add.vertices, delete.edges, delete.vertices,\n    get.edge.attribute, get.edges, get.vertex.attribute, is.bipartite,\n    is.directed, list.edge.attributes, list.vertex.attributes,\n    set.edge.attribute, set.vertex.attribute\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:lubridate':\n\n    %--%, union\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:dplyr':\n\n    as_data_frame, groups, union\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:purrr':\n\n    compose, simplify\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:tidyr':\n\n    crossing\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:tibble':\n\n    as_data_frame\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    decompose, spectrum\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:base':\n\n    union\n```\n:::\n\n```{.r .cell-code}\n#create igraph\nencounters.geo.ig <- graph_from_biadjacency_matrix(encounters.geo.stat)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nencounters.geo.stat2 <- asNetwork(encounters.geo.ig)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndetach(\"package:igraph\")\n\n# Extracting the coordinates from the network object\ncoords <- get.vertex.attribute(encounters.geo.stat, \"LAT\" )  # Assuming latitude is stored in an attribute named \"lat\"\ncoords_lon <- get.vertex.attribute(encounters.geo.stat, \"LON\")  # Assuming longitude is stored in an attribute named \"lon\"\n\n# Creating a Leaflet map\nleaflet() %>%\n  addTiles() %>%\n  # Adding markers for each coordinate\n  addMarkers(lng = coords_lon, lat = coords)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-cb87e224c48a3482d957\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cb87e224c48a3482d957\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[[42.4190418062449,42.2366578424555,42.4548277198744,42.3889958724171,42.3865226764523,42.3268112065701,42.4578222382458,41.5460899181752,41.9304215336085,41.6382696627178,42.3118517183343,42.4892374592649,42.0602625372101,41.7798362286732,41.695691616957,42.3119094944357,42.6979436733329,41.8830635228547,41.8089991995026,42.3225873785509,42.035365443853,42.6139160753762,42.3194628892464,41.8722269222767,42.5639929748867,42.3527174271696,42.5362794128619,41.7022720332252,42.5932222364215,42.2271671523419,41.6974206759473,42.4536839064362,42.5387576974167,42.6071895264639,42.3542074586058,42.1652707117512,42.6022099493788,42.3337306750991,42.1287565086393,41.6805052394787,42.1334408185512,42.1272816460285,42.4955822915627,42.4564230947938,42.033037855024,42.0114136270562,42.3053021577932,42.1068287535205,42.350405952206,42.4625760341414,42.5914916387687,42.5696369104705,42.5803162879157,42.1494915516857,42.5006125523725,42.2387664516179,42.3677235913164,42.1538708756482,42.2031801551553,42.3277100602921,42.5751688653603,41.7301370607729,41.684265889812,41.6926912900857,42.4975867786776,42.32491678169,41.6683986337562,41.7545719962288,42.3126589346506,42.6443151585345,42.1364816436225,41.8965412191225,41.8161666670466,42.5415482283387,41.7384235499419,42.1399122525571,42.3876073508973,41.6658946818456,42.3094447877859,41.7901531023333,42.3270582854719,42.5420668503447,42.1591991628296,42.2768678555442,41.6506905691286,42.8173191838409,42.2972045,41.6498983,41.7074065,42.4632069,41.6501114,42.58163075,42.3214927,42.2964859,42.1278249,42.34864995,42.57735215,42.25512735,42.1389039,42.0667952,41.64280275,41.884685,42.61322825,42.1178811,41.6753274,42.5792583,42.61322825,42.2625621,42.3026972,41.8455651,42.3430087,42.2964859,42.3213892,42.3501483,42.20017865,42.3150543,42.5253035,42.345093,42.57471215,42.3694992,42.2139873,42.29955605,42.33032115,41.6932713,42.55246265,42.375828,41.7579043,41.94893085,41.9404181,41.91158935,42.0952995,42.36305545,42.3400261429945,42.084901,42.3756401,42.59825485,42.4703546,41.6667779,41.70365955,42.239638,41.8984957,42.47049745,41.8753235,42.1178811,41.7294555,42.4550741,42.54644385,42.5879173,42.28348,42.3778749,41.65171785,42.4863168,42.54031915,42.3955992,41.7676615304297,41.6389926,42.29768,41.971697,42.4792618,42.53587715,41.8459353,42.518096193995,42.1384306,42.1424349,42.2935591883064,42.29337605,41.9266899,42.2843753,42.2501425,42.1886973,42.13496385,42.35853505,41.745636,42.5524742,42.25986305,42.3138278,42.0872752,41.61112,41.742172,41.7020544,42.336831,41.72075205,42.3917638,42.2976266,42.1755398,41.7093779,42.08345955,42.47632115,41.869676,41.9438129,42.5278731,42.04185195,42.75468625,42.1894693,41.6332267,42.18620965,42.6198215,42.54031915,41.730919,41.6562005,42.6809271,41.74223,42.1322823,42.8173801,42.466763,42.3756401,42.37520955,42.23691085,42.23754835,42.16578055,42.2288875,42.1893694,42.1589443,42.470093,42.20234485,42.2879347,42.4600752,42.4977745,41.6761113811674,42.33317295,42.4641001818182,42.1594587,42.2875144,42.16975305,42.2838619,42.3030701,42.5730593,42.32601195,42.256476,42.27728075,42.1487691,42.466763,42.3075806036254,42.3756401,42.5112107,41.646106,42.3334312,42.3104327,42.5792583,42.2731232,42.3768779,42.5952687,42.4600752,42.5903661,42.4524431,41.6839381652532,42.3908493955217,42.518096193995,42.541995,41.74026055,42.231371,42.1886973,42.15547415,42.5903661,42.3138278,41.6484421,42.3746705,42.2907683,42.37050535,42.473347,41.8946107,41.6512968,41.7093779,42.57056335,42.3756401,42.1557747953005,41.65363635,42.58685735,42.0834335,42.2020225,41.9028629,42.1441354,42.375351,42.15029565,41.6318,42.2513683,41.6149879,42.1700209025178,42.57735215,42.58578722272,42.30230485,42.3750976,42.1270746,41.7613849,42.1886973,41.9369576,41.764922,41.68098,42.368937,42.50403445,42.19322885,41.9062805,42.1006094723902,42.81369325,42.5700993,42.3615107,42.586487,42.5141736,41.9419187,42.81369325,42.4979478,41.89112605,42.4699241,42.4814675,42.4504488,42.4792618,42.4564323,42.1325911],[-71.0712777287484,-71.4672943498084,-71.0912964374704,-71.043496075191,-71.1131866429351,-71.41111348804409,-71.1341820955453,-70.913520088401,-71.2809316126618,-71.1012861594243,-71.20692316976771,-70.9598700198386,-71.2881231764536,-71.22337237949451,-70.4688306726091,-71.251396849382,-73.0896359757561,-71.0497268616469,-70.88849172791809,-72.6450685537264,-72.00886088412609,-72.7230597826313,-71.8005353502512,-70.8446184761534,-71.8461804955745,-71.11063421317451,-71.98622854253711,-70.8712380044808,-70.86968070768221,-72.1148749126892,-70.19107350129281,-71.0845476812588,-71.0475561448047,-70.808860749983,-71.1488003738101,-71.4849353617431,-71.88096215089421,-71.0086158061752,-71.31756843882,-70.1861647979856,-70.963160873947,-70.94201898253191,-70.9942033181203,-71.0053055658411,-71.2761291355994,-71.1977918867921,-71.16267122039891,-70.97209802290379,-72.5942222823135,-71.14046810016259,-70.9197409165475,-71.5613505312877,-71.38215071371241,-72.635558815593,-71.03709145209911,-71.0559711541211,-71.17541114499269,-70.92784447155449,-71.0609411418326,-72.4623617460452,-71.56444488153809,-71.1629101204397,-70.165679740475,-70.43180776990189,-71.7928799535876,-71.3219730606682,-70.264124424787,-70.1873944447414,-71.7552568498019,-70.8903484504005,-71.3539615040814,-71.12989839183641,-71.0070830945868,-71.76033459793,-70.72737895990601,-72.5324169258275,-71.2170176953627,-71.00412899009559,-71.889598813821,-71.23935394312301,-71.2349642690526,-71.0849388448987,-72.7765308226228,-71.3344970295968,-70.2109645982152,-70.8592991182352,-71.2107273138049,-70.3430984487668,-71.1459365946245,-71.0093761,-70.2411312,-72.6179501351554,-71.1711481,-71.2925571,-70.8266494748538,-71.14799584850211,-71.5741458734304,-71.8258092480352,-71.97826809999999,-72.0084995,-70.9286500430959,-70.847219,-70.8730067504893,-72.75935246865799,-70.309939,-71.4378411,-70.8730067504893,-71.80188769999999,-71.3537011055077,-70.9519592420845,-71.11701549999999,-71.2925571,-71.2586343,-71.1439332445769,-71.0582074,-72.6255556134909,-71.7584413,-71.139804,-70.9435955691262,-71.110110300101,-71.2244987,-71.7983813381924,-72.6533080260818,-71.1402431739568,-71.6238366574518,-71.2527956,-70.4968152,-71.1414131847519,-71.2728216702394,-71.10129620180319,-72.5094313614233,-71.06643399281769,-71.24911543639161,-71.30689224201799,-71.2358004,-71.8084191453365,-70.964796190519,-70.18474139999999,-71.152591512998,-71.8443785891577,-71.03751432894779,-70.9600366815157,-70.9203570558323,-72.75935246865799,-71.1619017170772,-71.0654799,-70.9928812911228,-72.6055828841603,-71.41845000000001,-71.0619957,-70.21464095380929,-71.0928919,-71.76312990486301,-71.1227391,-70.7309621292582,-70.9703171,-71.13046300000001,-71.1768933402183,-71.15227659999999,-71.7753711504708,-70.9494854,-71.0959083715027,-71.1022598,-71.489431733572,-71.3515805092496,-71.1980635302877,-71.2611303145582,-71.3441395,-71.065573,-71.2005241,-70.9223782449469,-71.2412552121489,-70.658192,-70.9444316554803,-71.8359778602328,-71.77070019999999,-70.9910738855076,-70.93937914285711,-70.45251,-70.249465,-71.04795799999999,-71.16843052114559,-71.0328284,-71.4260534836144,-70.9539153674405,-71.1460783680883,-71.38413379825739,-71.0692216900576,-70.873384,-71.2806515,-70.9286609,-71.23486657070561,-70.9451078257969,-71.85604764999999,-70.9879928,-71.307454952733,-71.3618921297148,-71.76312990486301,-71.208117,-70.2733618824426,-73.09950699822529,-71.129706,-72.74366790000001,-70.8812557365947,-70.94949389999999,-71.2358004,-71.10711344152971,-71.0023719995459,-72.1379154721525,-72.6338963469196,-71.51964390000001,-70.9845198481427,-70.9497043167232,-70.95994,-71.4249327507937,-71.15108161583279,-73.2492795834909,-71.12377119999999,-70.9878852817608,-72.6566355591273,-70.9465129090909,-71.06112167252699,-71.0470691675753,-72.6348803124211,-71.4093719,-71.8333408960994,-71.99713285,-71.22542515807061,-72.237482,-71.2366536281404,-72.60711190000001,-70.94949389999999,-71.4284621572461,-71.2358004,-70.9051624182619,-70.9086520807919,-71.0494949,-71.1888328341186,-71.4378411,-71.3105334275248,-72.5184028078374,-72.59288632376349,-73.2492795834909,-71.8119837,-71.08939988105109,-71.1220830626733,-71.1556550001627,-71.0959083715027,-71.7628835,-70.9450945705336,-72.165386,-71.2005241,-72.47222226666079,-71.8119837,-71.77070019999999,-70.4811383,-71.22789736306839,-71.76497519999999,-71.21908334877379,-71.144086,-71.11113,-70.9669902070805,-71.1460783680883,-71.4173664642241,-71.2358004,-72.5567226328951,-70.2735221923483,-71.98748072431211,-71.0183787,-71.8989161675468,-71.0971892712258,-70.8440854,-71.14686279999999,-72.47288272264809,-70.8801,-71.0768393856917,-70.9311385196367,-71.5940930809949,-71.5741458734304,-71.0086144242722,-71.7661469251106,-70.982827,-71.51639128815469,-70.7191143173718,-71.2005241,-71.2799609175534,-70.50221500000001,-70.18292625685081,-72.5324710720398,-71.0746295151461,-70.9458998765494,-71.0951812135179,-70.94967338146699,-70.8909164574759,-70.8710822425041,-72.55261320852939,-71.80521,-70.97106354209529,-71.27520816952971,-70.8909164574759,-71.1684508,-71.1125410206286,-70.91715069999999,-71.0924311,-71.0907694493843,-71.15227659999999,-71.064182,-71.26188860000001],null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[41.5460899181752,42.8173801],\"lng\":[-73.2492795834909,-70.165679740475]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nblock <- get.vertex.attribute(encounters.geo.stat, \"block\")\n# Assuming encounters.geo.stat is your network object containing the block attribute\n# Assuming block is the name of the attribute containing block information\n# Assuming coords_lon and coords are your longitude and latitude coordinates\n\n# Define colors based on block values\ncolors <-  ifelse(block == \"1\", \"red\",\n                 ifelse(block == \"2\", \"orange\",\n                  ifelse(block == \"3\", \"yellow\",\n                   ifelse(block == \"4\", \"green\",\n                    ifelse(block == \"5\", \"blue\", \n                      ifelse(block == \"6\", \"purple\", \n                           \"black\")))))) # Add more colors as needed\n\n# Creating a Leaflet map\nleaflet() %>%\n  addTiles() %>%\n  # Adding markers for each coordinate with color based on block attribute\n  addCircleMarkers(lng = coords_lon, lat = coords,\n                   color = colors)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-fe3e7e3c59d0d2926d4a\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-fe3e7e3c59d0d2926d4a\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addCircleMarkers\",\"args\":[[42.4190418062449,42.2366578424555,42.4548277198744,42.3889958724171,42.3865226764523,42.3268112065701,42.4578222382458,41.5460899181752,41.9304215336085,41.6382696627178,42.3118517183343,42.4892374592649,42.0602625372101,41.7798362286732,41.695691616957,42.3119094944357,42.6979436733329,41.8830635228547,41.8089991995026,42.3225873785509,42.035365443853,42.6139160753762,42.3194628892464,41.8722269222767,42.5639929748867,42.3527174271696,42.5362794128619,41.7022720332252,42.5932222364215,42.2271671523419,41.6974206759473,42.4536839064362,42.5387576974167,42.6071895264639,42.3542074586058,42.1652707117512,42.6022099493788,42.3337306750991,42.1287565086393,41.6805052394787,42.1334408185512,42.1272816460285,42.4955822915627,42.4564230947938,42.033037855024,42.0114136270562,42.3053021577932,42.1068287535205,42.350405952206,42.4625760341414,42.5914916387687,42.5696369104705,42.5803162879157,42.1494915516857,42.5006125523725,42.2387664516179,42.3677235913164,42.1538708756482,42.2031801551553,42.3277100602921,42.5751688653603,41.7301370607729,41.684265889812,41.6926912900857,42.4975867786776,42.32491678169,41.6683986337562,41.7545719962288,42.3126589346506,42.6443151585345,42.1364816436225,41.8965412191225,41.8161666670466,42.5415482283387,41.7384235499419,42.1399122525571,42.3876073508973,41.6658946818456,42.3094447877859,41.7901531023333,42.3270582854719,42.5420668503447,42.1591991628296,42.2768678555442,41.6506905691286,42.8173191838409,42.2972045,41.6498983,41.7074065,42.4632069,41.6501114,42.58163075,42.3214927,42.2964859,42.1278249,42.34864995,42.57735215,42.25512735,42.1389039,42.0667952,41.64280275,41.884685,42.61322825,42.1178811,41.6753274,42.5792583,42.61322825,42.2625621,42.3026972,41.8455651,42.3430087,42.2964859,42.3213892,42.3501483,42.20017865,42.3150543,42.5253035,42.345093,42.57471215,42.3694992,42.2139873,42.29955605,42.33032115,41.6932713,42.55246265,42.375828,41.7579043,41.94893085,41.9404181,41.91158935,42.0952995,42.36305545,42.3400261429945,42.084901,42.3756401,42.59825485,42.4703546,41.6667779,41.70365955,42.239638,41.8984957,42.47049745,41.8753235,42.1178811,41.7294555,42.4550741,42.54644385,42.5879173,42.28348,42.3778749,41.65171785,42.4863168,42.54031915,42.3955992,41.7676615304297,41.6389926,42.29768,41.971697,42.4792618,42.53587715,41.8459353,42.518096193995,42.1384306,42.1424349,42.2935591883064,42.29337605,41.9266899,42.2843753,42.2501425,42.1886973,42.13496385,42.35853505,41.745636,42.5524742,42.25986305,42.3138278,42.0872752,41.61112,41.742172,41.7020544,42.336831,41.72075205,42.3917638,42.2976266,42.1755398,41.7093779,42.08345955,42.47632115,41.869676,41.9438129,42.5278731,42.04185195,42.75468625,42.1894693,41.6332267,42.18620965,42.6198215,42.54031915,41.730919,41.6562005,42.6809271,41.74223,42.1322823,42.8173801,42.466763,42.3756401,42.37520955,42.23691085,42.23754835,42.16578055,42.2288875,42.1893694,42.1589443,42.470093,42.20234485,42.2879347,42.4600752,42.4977745,41.6761113811674,42.33317295,42.4641001818182,42.1594587,42.2875144,42.16975305,42.2838619,42.3030701,42.5730593,42.32601195,42.256476,42.27728075,42.1487691,42.466763,42.3075806036254,42.3756401,42.5112107,41.646106,42.3334312,42.3104327,42.5792583,42.2731232,42.3768779,42.5952687,42.4600752,42.5903661,42.4524431,41.6839381652532,42.3908493955217,42.518096193995,42.541995,41.74026055,42.231371,42.1886973,42.15547415,42.5903661,42.3138278,41.6484421,42.3746705,42.2907683,42.37050535,42.473347,41.8946107,41.6512968,41.7093779,42.57056335,42.3756401,42.1557747953005,41.65363635,42.58685735,42.0834335,42.2020225,41.9028629,42.1441354,42.375351,42.15029565,41.6318,42.2513683,41.6149879,42.1700209025178,42.57735215,42.58578722272,42.30230485,42.3750976,42.1270746,41.7613849,42.1886973,41.9369576,41.764922,41.68098,42.368937,42.50403445,42.19322885,41.9062805,42.1006094723902,42.81369325,42.5700993,42.3615107,42.586487,42.5141736,41.9419187,42.81369325,42.4979478,41.89112605,42.4699241,42.4814675,42.4504488,42.4792618,42.4564323,42.1325911],[-71.0712777287484,-71.4672943498084,-71.0912964374704,-71.043496075191,-71.1131866429351,-71.41111348804409,-71.1341820955453,-70.913520088401,-71.2809316126618,-71.1012861594243,-71.20692316976771,-70.9598700198386,-71.2881231764536,-71.22337237949451,-70.4688306726091,-71.251396849382,-73.0896359757561,-71.0497268616469,-70.88849172791809,-72.6450685537264,-72.00886088412609,-72.7230597826313,-71.8005353502512,-70.8446184761534,-71.8461804955745,-71.11063421317451,-71.98622854253711,-70.8712380044808,-70.86968070768221,-72.1148749126892,-70.19107350129281,-71.0845476812588,-71.0475561448047,-70.808860749983,-71.1488003738101,-71.4849353617431,-71.88096215089421,-71.0086158061752,-71.31756843882,-70.1861647979856,-70.963160873947,-70.94201898253191,-70.9942033181203,-71.0053055658411,-71.2761291355994,-71.1977918867921,-71.16267122039891,-70.97209802290379,-72.5942222823135,-71.14046810016259,-70.9197409165475,-71.5613505312877,-71.38215071371241,-72.635558815593,-71.03709145209911,-71.0559711541211,-71.17541114499269,-70.92784447155449,-71.0609411418326,-72.4623617460452,-71.56444488153809,-71.1629101204397,-70.165679740475,-70.43180776990189,-71.7928799535876,-71.3219730606682,-70.264124424787,-70.1873944447414,-71.7552568498019,-70.8903484504005,-71.3539615040814,-71.12989839183641,-71.0070830945868,-71.76033459793,-70.72737895990601,-72.5324169258275,-71.2170176953627,-71.00412899009559,-71.889598813821,-71.23935394312301,-71.2349642690526,-71.0849388448987,-72.7765308226228,-71.3344970295968,-70.2109645982152,-70.8592991182352,-71.2107273138049,-70.3430984487668,-71.1459365946245,-71.0093761,-70.2411312,-72.6179501351554,-71.1711481,-71.2925571,-70.8266494748538,-71.14799584850211,-71.5741458734304,-71.8258092480352,-71.97826809999999,-72.0084995,-70.9286500430959,-70.847219,-70.8730067504893,-72.75935246865799,-70.309939,-71.4378411,-70.8730067504893,-71.80188769999999,-71.3537011055077,-70.9519592420845,-71.11701549999999,-71.2925571,-71.2586343,-71.1439332445769,-71.0582074,-72.6255556134909,-71.7584413,-71.139804,-70.9435955691262,-71.110110300101,-71.2244987,-71.7983813381924,-72.6533080260818,-71.1402431739568,-71.6238366574518,-71.2527956,-70.4968152,-71.1414131847519,-71.2728216702394,-71.10129620180319,-72.5094313614233,-71.06643399281769,-71.24911543639161,-71.30689224201799,-71.2358004,-71.8084191453365,-70.964796190519,-70.18474139999999,-71.152591512998,-71.8443785891577,-71.03751432894779,-70.9600366815157,-70.9203570558323,-72.75935246865799,-71.1619017170772,-71.0654799,-70.9928812911228,-72.6055828841603,-71.41845000000001,-71.0619957,-70.21464095380929,-71.0928919,-71.76312990486301,-71.1227391,-70.7309621292582,-70.9703171,-71.13046300000001,-71.1768933402183,-71.15227659999999,-71.7753711504708,-70.9494854,-71.0959083715027,-71.1022598,-71.489431733572,-71.3515805092496,-71.1980635302877,-71.2611303145582,-71.3441395,-71.065573,-71.2005241,-70.9223782449469,-71.2412552121489,-70.658192,-70.9444316554803,-71.8359778602328,-71.77070019999999,-70.9910738855076,-70.93937914285711,-70.45251,-70.249465,-71.04795799999999,-71.16843052114559,-71.0328284,-71.4260534836144,-70.9539153674405,-71.1460783680883,-71.38413379825739,-71.0692216900576,-70.873384,-71.2806515,-70.9286609,-71.23486657070561,-70.9451078257969,-71.85604764999999,-70.9879928,-71.307454952733,-71.3618921297148,-71.76312990486301,-71.208117,-70.2733618824426,-73.09950699822529,-71.129706,-72.74366790000001,-70.8812557365947,-70.94949389999999,-71.2358004,-71.10711344152971,-71.0023719995459,-72.1379154721525,-72.6338963469196,-71.51964390000001,-70.9845198481427,-70.9497043167232,-70.95994,-71.4249327507937,-71.15108161583279,-73.2492795834909,-71.12377119999999,-70.9878852817608,-72.6566355591273,-70.9465129090909,-71.06112167252699,-71.0470691675753,-72.6348803124211,-71.4093719,-71.8333408960994,-71.99713285,-71.22542515807061,-72.237482,-71.2366536281404,-72.60711190000001,-70.94949389999999,-71.4284621572461,-71.2358004,-70.9051624182619,-70.9086520807919,-71.0494949,-71.1888328341186,-71.4378411,-71.3105334275248,-72.5184028078374,-72.59288632376349,-73.2492795834909,-71.8119837,-71.08939988105109,-71.1220830626733,-71.1556550001627,-71.0959083715027,-71.7628835,-70.9450945705336,-72.165386,-71.2005241,-72.47222226666079,-71.8119837,-71.77070019999999,-70.4811383,-71.22789736306839,-71.76497519999999,-71.21908334877379,-71.144086,-71.11113,-70.9669902070805,-71.1460783680883,-71.4173664642241,-71.2358004,-72.5567226328951,-70.2735221923483,-71.98748072431211,-71.0183787,-71.8989161675468,-71.0971892712258,-70.8440854,-71.14686279999999,-72.47288272264809,-70.8801,-71.0768393856917,-70.9311385196367,-71.5940930809949,-71.5741458734304,-71.0086144242722,-71.7661469251106,-70.982827,-71.51639128815469,-70.7191143173718,-71.2005241,-71.2799609175534,-70.50221500000001,-70.18292625685081,-72.5324710720398,-71.0746295151461,-70.9458998765494,-71.0951812135179,-70.94967338146699,-70.8909164574759,-70.8710822425041,-72.55261320852939,-71.80521,-70.97106354209529,-71.27520816952971,-70.8909164574759,-71.1684508,-71.1125410206286,-70.91715069999999,-71.0924311,-71.0907694493843,-71.15227659999999,-71.064182,-71.26188860000001],10,null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":true,\"color\":[\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"purple\",\"yellow\",\"purple\",\"purple\",\"green\",\"purple\",\"yellow\",\"orange\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"orange\",\"purple\",\"purple\",\"red\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"yellow\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"green\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"orange\",\"purple\",\"blue\",\"green\",\"red\",\"blue\",\"purple\",\"purple\",\"blue\",\"purple\",\"yellow\",\"purple\",\"orange\",\"purple\",\"green\",\"purple\",\"purple\",\"yellow\",\"green\",\"purple\",\"purple\",\"purple\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"blue\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"red\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"green\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"red\"],\"weight\":5,\"opacity\":0.5,\"fill\":true,\"fillColor\":[\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"purple\",\"yellow\",\"purple\",\"purple\",\"green\",\"purple\",\"yellow\",\"orange\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"orange\",\"purple\",\"purple\",\"red\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"yellow\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"green\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"orange\",\"purple\",\"blue\",\"green\",\"red\",\"blue\",\"purple\",\"purple\",\"blue\",\"purple\",\"yellow\",\"purple\",\"orange\",\"purple\",\"green\",\"purple\",\"purple\",\"yellow\",\"green\",\"purple\",\"purple\",\"purple\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"blue\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"red\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"green\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"red\"],\"fillOpacity\":0.2},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[41.5460899181752,42.8173801],\"lng\":[-73.2492795834909,-70.165679740475]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\ntry for providers only?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprovider.geo.stat <- network(provider_matrix,\n                       directed = FALSE,\n                       matrix.type = \"adjacency\",\n                       vertex.attr = pro_attr_list_zip)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extracting the coordinates from the network object\npro_coords <- get.vertex.attribute(provider.geo.stat, \"LAT\")  # Assuming latitude is stored in an attribute named \"lat\"\npro_coords_lon <- get.vertex.attribute(provider.geo.stat, \"LON\")  # Assuming longitude is stored in an attribute named \"lon\"\n\n# Creating a Leaflet map\nleaflet() %>%\n  addTiles() %>%\n  # Adding markers for each coordinate\n  addMarkers(lng = pro_coords_lon, lat = pro_coords)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-dfb67e923d4d3a562cd7\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-dfb67e923d4d3a562cd7\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[[42.2972045,41.6498983,41.7074065,42.4632069,41.6501114,42.58163075,42.3214927,42.2964859,42.1278249,42.34864995,42.57735215,42.25512735,42.1389039,42.0667952,41.64280275,41.884685,42.61322825,42.1178811,41.6753274,42.5792583,42.61322825,42.2625621,42.3026972,41.8455651,42.3430087,42.2964859,42.3213892,42.3501483,42.20017865,42.3150543,42.5253035,42.345093,42.57471215,42.3694992,42.2139873,42.29955605,42.33032115,41.6932713,42.55246265,42.375828,41.7579043,41.94893085,41.9404181,41.91158935,42.0952995,42.36305545,42.3400261429945,42.084901,42.3756401,42.59825485,42.4703546,41.6667779,41.70365955,42.239638,41.8984957,42.47049745,41.8753235,42.1178811,41.7294555,42.4550741,42.54644385,42.5879173,42.28348,42.3778749,41.65171785,42.4863168,42.54031915,42.3955992,41.7676615304297,41.6389926,42.29768,41.971697,42.4792618,42.53587715,41.8459353,42.518096193995,42.1384306,42.1424349,42.2935591883064,42.29337605,41.9266899,42.2843753,42.2501425,42.1886973,42.13496385,42.35853505,41.745636,42.5524742,42.25986305,42.3138278,42.0872752,41.61112,41.742172,41.7020544,42.336831,41.72075205,42.3917638,42.2976266,42.1755398,41.7093779,42.08345955,42.47632115,41.869676,41.9438129,42.5278731,42.04185195,42.75468625,42.1894693,41.6332267,42.18620965,42.6198215,42.54031915,41.730919,41.6562005,42.6809271,41.74223,42.1322823,42.8173801,42.466763,42.3756401,42.37520955,42.23691085,42.23754835,42.16578055,42.2288875,42.1893694,42.1589443,42.470093,42.20234485,42.2879347,42.4600752,42.4977745,41.6761113811674,42.33317295,42.4641001818182,42.1594587,42.2875144,42.16975305,42.2838619,42.3030701,42.5730593,42.32601195,42.256476,42.27728075,42.1487691,42.466763,42.3075806036254,42.3756401,42.5112107,41.646106,42.3334312,42.3104327,42.5792583,42.2731232,42.3768779,42.5952687,42.4600752,42.5903661,42.4524431,41.6839381652532,42.3908493955217,42.518096193995,42.541995,41.74026055,42.231371,42.1886973,42.15547415,42.5903661,42.3138278,41.6484421,42.3746705,42.2907683,42.37050535,42.473347,41.8946107,41.6512968,41.7093779,42.57056335,42.3756401,42.1557747953005,41.65363635,42.58685735,42.0834335,42.2020225,41.9028629,42.1441354,42.375351,42.15029565,41.6318,42.2513683,41.6149879,42.1700209025178,42.57735215,42.58578722272,42.30230485,42.3750976,42.1270746,41.7613849,42.1886973,41.9369576,41.764922,41.68098,42.368937,42.50403445,42.19322885,41.9062805,42.1006094723902,42.81369325,42.5700993,42.3615107,42.586487,42.5141736,41.9419187,42.81369325,42.4979478,41.89112605,42.4699241,42.4814675,42.4504488,42.4792618,42.4564323,42.1325911],[-71.2107273138049,-70.3430984487668,-71.1459365946245,-71.0093761,-70.2411312,-72.6179501351554,-71.1711481,-71.2925571,-70.8266494748538,-71.14799584850211,-71.5741458734304,-71.8258092480352,-71.97826809999999,-72.0084995,-70.9286500430959,-70.847219,-70.8730067504893,-72.75935246865799,-70.309939,-71.4378411,-70.8730067504893,-71.80188769999999,-71.3537011055077,-70.9519592420845,-71.11701549999999,-71.2925571,-71.2586343,-71.1439332445769,-71.0582074,-72.6255556134909,-71.7584413,-71.139804,-70.9435955691262,-71.110110300101,-71.2244987,-71.7983813381924,-72.6533080260818,-71.1402431739568,-71.6238366574518,-71.2527956,-70.4968152,-71.1414131847519,-71.2728216702394,-71.10129620180319,-72.5094313614233,-71.06643399281769,-71.24911543639161,-71.30689224201799,-71.2358004,-71.8084191453365,-70.964796190519,-70.18474139999999,-71.152591512998,-71.8443785891577,-71.03751432894779,-70.9600366815157,-70.9203570558323,-72.75935246865799,-71.1619017170772,-71.0654799,-70.9928812911228,-72.6055828841603,-71.41845000000001,-71.0619957,-70.21464095380929,-71.0928919,-71.76312990486301,-71.1227391,-70.7309621292582,-70.9703171,-71.13046300000001,-71.1768933402183,-71.15227659999999,-71.7753711504708,-70.9494854,-71.0959083715027,-71.1022598,-71.489431733572,-71.3515805092496,-71.1980635302877,-71.2611303145582,-71.3441395,-71.065573,-71.2005241,-70.9223782449469,-71.2412552121489,-70.658192,-70.9444316554803,-71.8359778602328,-71.77070019999999,-70.9910738855076,-70.93937914285711,-70.45251,-70.249465,-71.04795799999999,-71.16843052114559,-71.0328284,-71.4260534836144,-70.9539153674405,-71.1460783680883,-71.38413379825739,-71.0692216900576,-70.873384,-71.2806515,-70.9286609,-71.23486657070561,-70.9451078257969,-71.85604764999999,-70.9879928,-71.307454952733,-71.3618921297148,-71.76312990486301,-71.208117,-70.2733618824426,-73.09950699822529,-71.129706,-72.74366790000001,-70.8812557365947,-70.94949389999999,-71.2358004,-71.10711344152971,-71.0023719995459,-72.1379154721525,-72.6338963469196,-71.51964390000001,-70.9845198481427,-70.9497043167232,-70.95994,-71.4249327507937,-71.15108161583279,-73.2492795834909,-71.12377119999999,-70.9878852817608,-72.6566355591273,-70.9465129090909,-71.06112167252699,-71.0470691675753,-72.6348803124211,-71.4093719,-71.8333408960994,-71.99713285,-71.22542515807061,-72.237482,-71.2366536281404,-72.60711190000001,-70.94949389999999,-71.4284621572461,-71.2358004,-70.9051624182619,-70.9086520807919,-71.0494949,-71.1888328341186,-71.4378411,-71.3105334275248,-72.5184028078374,-72.59288632376349,-73.2492795834909,-71.8119837,-71.08939988105109,-71.1220830626733,-71.1556550001627,-71.0959083715027,-71.7628835,-70.9450945705336,-72.165386,-71.2005241,-72.47222226666079,-71.8119837,-71.77070019999999,-70.4811383,-71.22789736306839,-71.76497519999999,-71.21908334877379,-71.144086,-71.11113,-70.9669902070805,-71.1460783680883,-71.4173664642241,-71.2358004,-72.5567226328951,-70.2735221923483,-71.98748072431211,-71.0183787,-71.8989161675468,-71.0971892712258,-70.8440854,-71.14686279999999,-72.47288272264809,-70.8801,-71.0768393856917,-70.9311385196367,-71.5940930809949,-71.5741458734304,-71.0086144242722,-71.7661469251106,-70.982827,-71.51639128815469,-70.7191143173718,-71.2005241,-71.2799609175534,-70.50221500000001,-70.18292625685081,-72.5324710720398,-71.0746295151461,-70.9458998765494,-71.0951812135179,-70.94967338146699,-70.8909164574759,-70.8710822425041,-72.55261320852939,-71.80521,-70.97106354209529,-71.27520816952971,-70.8909164574759,-71.1684508,-71.1125410206286,-70.91715069999999,-71.0924311,-71.0907694493843,-71.15227659999999,-71.064182,-71.26188860000001],null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[41.61112,42.8173801],\"lng\":[-73.2492795834909,-70.18292625685081]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npro_block <- get.vertex.attribute(provider.geo.stat, \"block\")\n# Assuming encounters.geo.stat is your network object containing the block attribute\n# Assuming block is the name of the attribute containing block information\n# Assuming coords_lon and coords are your longitude and latitude coordinates\n\n# Define colors based on block values\npro_colors <- ifelse(block == \"1\", \"red\",\n                 ifelse(block == \"2\", \"orange\",\n                  ifelse(block == \"3\", \"yellow\",\n                   ifelse(block == \"4\", \"green\",\n                    ifelse(block == \"5\", \"blue\", \n                      ifelse(block == \"6\", \"purple\", \n                           \"black\"))))))  # Add more colors as needed\n\n# Creating a Leaflet map\nleaflet() %>%\n  addTiles() %>%\n  # Adding markers for each coordinate with color based on block attribute\n  addCircleMarkers(lng = pro_coords_lon, lat = pro_coords,\n                   color = pro_colors)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-0510a414e03203097805\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0510a414e03203097805\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addCircleMarkers\",\"args\":[[42.2972045,41.6498983,41.7074065,42.4632069,41.6501114,42.58163075,42.3214927,42.2964859,42.1278249,42.34864995,42.57735215,42.25512735,42.1389039,42.0667952,41.64280275,41.884685,42.61322825,42.1178811,41.6753274,42.5792583,42.61322825,42.2625621,42.3026972,41.8455651,42.3430087,42.2964859,42.3213892,42.3501483,42.20017865,42.3150543,42.5253035,42.345093,42.57471215,42.3694992,42.2139873,42.29955605,42.33032115,41.6932713,42.55246265,42.375828,41.7579043,41.94893085,41.9404181,41.91158935,42.0952995,42.36305545,42.3400261429945,42.084901,42.3756401,42.59825485,42.4703546,41.6667779,41.70365955,42.239638,41.8984957,42.47049745,41.8753235,42.1178811,41.7294555,42.4550741,42.54644385,42.5879173,42.28348,42.3778749,41.65171785,42.4863168,42.54031915,42.3955992,41.7676615304297,41.6389926,42.29768,41.971697,42.4792618,42.53587715,41.8459353,42.518096193995,42.1384306,42.1424349,42.2935591883064,42.29337605,41.9266899,42.2843753,42.2501425,42.1886973,42.13496385,42.35853505,41.745636,42.5524742,42.25986305,42.3138278,42.0872752,41.61112,41.742172,41.7020544,42.336831,41.72075205,42.3917638,42.2976266,42.1755398,41.7093779,42.08345955,42.47632115,41.869676,41.9438129,42.5278731,42.04185195,42.75468625,42.1894693,41.6332267,42.18620965,42.6198215,42.54031915,41.730919,41.6562005,42.6809271,41.74223,42.1322823,42.8173801,42.466763,42.3756401,42.37520955,42.23691085,42.23754835,42.16578055,42.2288875,42.1893694,42.1589443,42.470093,42.20234485,42.2879347,42.4600752,42.4977745,41.6761113811674,42.33317295,42.4641001818182,42.1594587,42.2875144,42.16975305,42.2838619,42.3030701,42.5730593,42.32601195,42.256476,42.27728075,42.1487691,42.466763,42.3075806036254,42.3756401,42.5112107,41.646106,42.3334312,42.3104327,42.5792583,42.2731232,42.3768779,42.5952687,42.4600752,42.5903661,42.4524431,41.6839381652532,42.3908493955217,42.518096193995,42.541995,41.74026055,42.231371,42.1886973,42.15547415,42.5903661,42.3138278,41.6484421,42.3746705,42.2907683,42.37050535,42.473347,41.8946107,41.6512968,41.7093779,42.57056335,42.3756401,42.1557747953005,41.65363635,42.58685735,42.0834335,42.2020225,41.9028629,42.1441354,42.375351,42.15029565,41.6318,42.2513683,41.6149879,42.1700209025178,42.57735215,42.58578722272,42.30230485,42.3750976,42.1270746,41.7613849,42.1886973,41.9369576,41.764922,41.68098,42.368937,42.50403445,42.19322885,41.9062805,42.1006094723902,42.81369325,42.5700993,42.3615107,42.586487,42.5141736,41.9419187,42.81369325,42.4979478,41.89112605,42.4699241,42.4814675,42.4504488,42.4792618,42.4564323,42.1325911],[-71.2107273138049,-70.3430984487668,-71.1459365946245,-71.0093761,-70.2411312,-72.6179501351554,-71.1711481,-71.2925571,-70.8266494748538,-71.14799584850211,-71.5741458734304,-71.8258092480352,-71.97826809999999,-72.0084995,-70.9286500430959,-70.847219,-70.8730067504893,-72.75935246865799,-70.309939,-71.4378411,-70.8730067504893,-71.80188769999999,-71.3537011055077,-70.9519592420845,-71.11701549999999,-71.2925571,-71.2586343,-71.1439332445769,-71.0582074,-72.6255556134909,-71.7584413,-71.139804,-70.9435955691262,-71.110110300101,-71.2244987,-71.7983813381924,-72.6533080260818,-71.1402431739568,-71.6238366574518,-71.2527956,-70.4968152,-71.1414131847519,-71.2728216702394,-71.10129620180319,-72.5094313614233,-71.06643399281769,-71.24911543639161,-71.30689224201799,-71.2358004,-71.8084191453365,-70.964796190519,-70.18474139999999,-71.152591512998,-71.8443785891577,-71.03751432894779,-70.9600366815157,-70.9203570558323,-72.75935246865799,-71.1619017170772,-71.0654799,-70.9928812911228,-72.6055828841603,-71.41845000000001,-71.0619957,-70.21464095380929,-71.0928919,-71.76312990486301,-71.1227391,-70.7309621292582,-70.9703171,-71.13046300000001,-71.1768933402183,-71.15227659999999,-71.7753711504708,-70.9494854,-71.0959083715027,-71.1022598,-71.489431733572,-71.3515805092496,-71.1980635302877,-71.2611303145582,-71.3441395,-71.065573,-71.2005241,-70.9223782449469,-71.2412552121489,-70.658192,-70.9444316554803,-71.8359778602328,-71.77070019999999,-70.9910738855076,-70.93937914285711,-70.45251,-70.249465,-71.04795799999999,-71.16843052114559,-71.0328284,-71.4260534836144,-70.9539153674405,-71.1460783680883,-71.38413379825739,-71.0692216900576,-70.873384,-71.2806515,-70.9286609,-71.23486657070561,-70.9451078257969,-71.85604764999999,-70.9879928,-71.307454952733,-71.3618921297148,-71.76312990486301,-71.208117,-70.2733618824426,-73.09950699822529,-71.129706,-72.74366790000001,-70.8812557365947,-70.94949389999999,-71.2358004,-71.10711344152971,-71.0023719995459,-72.1379154721525,-72.6338963469196,-71.51964390000001,-70.9845198481427,-70.9497043167232,-70.95994,-71.4249327507937,-71.15108161583279,-73.2492795834909,-71.12377119999999,-70.9878852817608,-72.6566355591273,-70.9465129090909,-71.06112167252699,-71.0470691675753,-72.6348803124211,-71.4093719,-71.8333408960994,-71.99713285,-71.22542515807061,-72.237482,-71.2366536281404,-72.60711190000001,-70.94949389999999,-71.4284621572461,-71.2358004,-70.9051624182619,-70.9086520807919,-71.0494949,-71.1888328341186,-71.4378411,-71.3105334275248,-72.5184028078374,-72.59288632376349,-73.2492795834909,-71.8119837,-71.08939988105109,-71.1220830626733,-71.1556550001627,-71.0959083715027,-71.7628835,-70.9450945705336,-72.165386,-71.2005241,-72.47222226666079,-71.8119837,-71.77070019999999,-70.4811383,-71.22789736306839,-71.76497519999999,-71.21908334877379,-71.144086,-71.11113,-70.9669902070805,-71.1460783680883,-71.4173664642241,-71.2358004,-72.5567226328951,-70.2735221923483,-71.98748072431211,-71.0183787,-71.8989161675468,-71.0971892712258,-70.8440854,-71.14686279999999,-72.47288272264809,-70.8801,-71.0768393856917,-70.9311385196367,-71.5940930809949,-71.5741458734304,-71.0086144242722,-71.7661469251106,-70.982827,-71.51639128815469,-70.7191143173718,-71.2005241,-71.2799609175534,-70.50221500000001,-70.18292625685081,-72.5324710720398,-71.0746295151461,-70.9458998765494,-71.0951812135179,-70.94967338146699,-70.8909164574759,-70.8710822425041,-72.55261320852939,-71.80521,-70.97106354209529,-71.27520816952971,-70.8909164574759,-71.1684508,-71.1125410206286,-70.91715069999999,-71.0924311,-71.0907694493843,-71.15227659999999,-71.064182,-71.26188860000001],10,null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":true,\"color\":[\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"purple\",\"yellow\",\"purple\",\"purple\",\"green\",\"purple\",\"yellow\",\"orange\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"orange\",\"purple\",\"purple\",\"red\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"yellow\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"green\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"orange\",\"purple\",\"blue\",\"green\",\"red\",\"blue\",\"purple\",\"purple\",\"blue\",\"purple\",\"yellow\",\"purple\",\"orange\",\"purple\",\"green\",\"purple\",\"purple\",\"yellow\",\"green\",\"purple\",\"purple\",\"purple\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"blue\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"red\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"green\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"red\"],\"weight\":5,\"opacity\":0.5,\"fill\":true,\"fillColor\":[\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"purple\",\"yellow\",\"purple\",\"purple\",\"green\",\"purple\",\"yellow\",\"orange\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"orange\",\"purple\",\"purple\",\"red\",\"purple\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"yellow\",\"purple\",\"blue\",\"purple\",\"purple\",\"blue\",\"blue\",\"purple\",\"purple\",\"purple\",\"purple\",\"green\",\"purple\",\"purple\",\"purple\",\"purple\",\"blue\",\"orange\",\"purple\",\"blue\",\"green\",\"red\",\"blue\",\"purple\",\"purple\",\"blue\",\"purple\",\"yellow\",\"purple\",\"orange\",\"purple\",\"green\",\"purple\",\"purple\",\"yellow\",\"green\",\"purple\",\"purple\",\"purple\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"blue\",\"purple\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"red\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"red\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"green\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"purple\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"green\",\"yellow\",\"green\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"green\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"blue\",\"yellow\",\"yellow\",\"yellow\",\"orange\",\"purple\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"yellow\",\"blue\",\"blue\",\"yellow\",\"yellow\",\"red\"],\"fillOpacity\":0.2},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[41.61112,42.8173801],\"lng\":[-73.2492795834909,-70.18292625685081]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\r\n<script src=\"../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\r\n<link href=\"../../site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/leaflet-1.3.1/leaflet.js\"></script>\r\n<link href=\"../../site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/proj4-2.6.2/proj4.min.js\"></script>\r\n<script src=\"../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\r\n<link href=\"../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/leaflet-binding-2.2.2/leaflet.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}