<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sue-Ellen Duffy">
<meta name="dcterms.date" content="2024-04-21">

<title>Social_Networks_Blog_Space - The Patient Provider Relationship, A Synthetic Social Network</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Social_Networks_Blog_Space</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Patient Provider Relationship, A Synthetic Social Network</h1>
            <p class="subtitle lead">Network Exploration</p>
                                <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sue-Ellen Duffy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 21, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sna)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This post will explore the Synthetic Mass network data in more detail.</p>
<section id="read-in-data" class="level1">
<h1>Read in Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pat_attr <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post_one_data/pat_attr.csv"</span>, </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pro_attr <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post_one_data/pro_attr.csv"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>encounters_cleaning <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post_one_data//encounters_cleaning.csv"</span>, </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>encounter_attributes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post_one_data/encounter_attributes.csv"</span>, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>encounters_el  <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post_one_data/encounters_el.csv"</span>, </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>encounters_st_3 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post_one_data/encounters.st.3.csv"</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>attribute_list <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"post_one_data/attribute_list.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="prep-data-for-analysis" class="level1">
<h1>Prep Data for Analysis</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#combine pro and pat attr</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>pat_attr<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="st">"PATIENT"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>pro_attr<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="st">"PROVIDER"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>both_attr <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(pat_attr, pro_attr)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(both_attr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  NAME                       GENDER RACE  MARITAL INCOME   AGE type   
  &lt;chr&gt;                      &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  
1 Avril120 Olson653          F      white &lt;NA&gt;    482269    36 PATIENT
2 Norma469 Langosh790        F      white &lt;NA&gt;    190464    25 PATIENT
3 Peggie783 Eichmann909      F      white &lt;NA&gt;     78997    21 PATIENT
4 Ashlie138 Williamson769    F      white M         6472    37 PATIENT
5 Christiane220 Ankunding277 F      white &lt;NA&gt;    141475    24 PATIENT
6 Dione665 O'Kon634          F      white M       482269    36 PATIENT</code></pre>
</div>
</div>
</section>
<section id="create-bipartite-network-with-attributes" class="level1">
<h1>Create bipartite network with attributes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>encounters.st<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">network</span>(encounters_el,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">bipartite =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">matrix.type =</span> <span class="st">"edgelist"</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">vertex.attr =</span> attribute_list)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>encounters.st<span class="fl">.3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Network attributes:
  vertices = 374 
  directed = FALSE 
  hyper = FALSE 
  loops = FALSE 
  multiple = FALSE 
  bipartite = 121 
  total edges= 437 
    missing edges= 0 
    non-missing edges= 437 

 Vertex attribute names: 
    AGE GENDER INCOME MARITAL NAME RACE type vertex.names X 

 Edge attribute names: 
    COUNT </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">network.vertex.names</span>( encounters.st<span class="fl">.3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Akiko835 Larkin917"      "Anneliese170 Berge125"  
[3] "Annice210 McClure239"    "Anthony633 Renner328"   
[5] "Arleen939 Kling921"      "Ashlie138 Williamson769"</code></pre>
</div>
</div>
</section>
<section id="graphs" class="level1">
<h1>Graphs</h1>
<section id="graphs-with-sna" class="level2">
<h2 class="anchored" data-anchor-id="graphs-with-sna">Graphs with sna</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the sna library to get the gplot() function</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( sna )</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># set the seed to reproduce the plot layout</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>( <span class="dv">507</span> )</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># execute the plot</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fu">gplot</span>(</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  encounters.st<span class="fl">.3</span>,             </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">gmode =</span> <span class="st">"twomode"</span>,                     <span class="co"># indicate it is two modes</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">usearrows =</span> <span class="cn">FALSE</span>,                     <span class="co"># turn off the arrowheads</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.cex=</span><span class="dv">2</span>,                          <span class="co"># size the nodes     </span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.cex=</span><span class="fl">1.2</span>,                         <span class="co"># size the labels</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">main=</span><span class="st">"Bipartite Graph of Encounters using SNA"</span>                 <span class="co"># add a title</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>incidence_graph <span class="ot">&lt;-</span> <span class="fu">graph_from_biadjacency_matrix</span>(encounters.st<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:sna"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graphs-with-igraph" class="level2">
<h2 class="anchored" data-anchor-id="graphs-with-igraph">Graphs with igraph</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>vertex_colors <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(attribute_list<span class="sc">$</span>GENDER <span class="sc">==</span> <span class="st">"F"</span>, <span class="st">"blue"</span>, <span class="st">"magenta"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(incidence_graph)<span class="sc">$</span>shape <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(incidence_graph)<span class="sc">$</span>type, <span class="st">"square"</span>, <span class="st">"circle"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define edge colors based on COUNT attribute</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>edge_colors <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(encounters_el<span class="sc">$</span>COUNT <span class="sc">&lt;</span> <span class="dv">5</span>, <span class="st">"yellow"</span>, </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(encounters_el<span class="sc">$</span>COUNT <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">&amp;</span> encounters_el<span class="sc">$</span>COUNT <span class="sc">&lt;=</span> <span class="dv">19</span>, <span class="st">"lightblue"</span>, <span class="st">"red"</span>))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if the length of edge_colors matches the number of edges</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(edge_colors) <span class="sc">==</span> <span class="fu">ecount</span>(incidence_graph)) {</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set edge attributes based on counts</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">E</span>(incidence_graph)<span class="sc">$</span>color <span class="ot">&lt;-</span> edge_colors</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"Length of edge_colors does not match the number of edges in the graph."</span>)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(incidence_graph)<span class="sc">$</span>color <span class="ot">&lt;-</span> edge_colors</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co"># set the seed to reproduce the plot layout</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>( <span class="dv">235</span> )</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(incidence_graph,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> layout.fruchterman.reingold, </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.dist =</span> <span class="dv">2</span>, </span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">3</span>, </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> vertex_colors,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.label =</span> <span class="cn">NA</span>,</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> <span class="fl">0.2</span>, </span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Patient Provider Incidence Graph"</span>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for vertex colors</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>,</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Female"</span>, <span class="st">"Male"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"magenta"</span>, <span class="st">"blue"</span>),   <span class="co"># Fill colors corresponding to vertex colors</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Nodes: Gender"</span>)              <span class="co"># Legend title</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for vertex shapes</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Patient"</span>, <span class="st">"Provider"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>),                      <span class="co"># Point shapes corresponding to vertex shapes</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Nodes: Who"</span>)                     <span class="co"># Legend title</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for edge colors</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>,</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"1-4"</span>, <span class="st">"5-19"</span>, <span class="st">"20+"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"yellow"</span>, <span class="st">"lightblue"</span>, <span class="st">"red"</span>),  <span class="co"># Line colors corresponding to edge colors</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="dv">2</span>,                            <span class="co"># Line width</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Edges: # of Visits"</span>)              <span class="co"># Legend title</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculating centrality</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>types <span class="ot">&lt;-</span> <span class="fu">V</span>(incidence_graph)<span class="sc">$</span>type</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>deg<span class="ot">&lt;-</span> <span class="fu">degree</span>(incidence_graph)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>bet <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(incidence_graph)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>clos <span class="ot">&lt;-</span> <span class="fu">closeness</span>(incidence_graph)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>eig <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(incidence_graph)<span class="sc">$</span>vector</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>const <span class="ot">&lt;-</span> <span class="fu">constraint</span>(incidence_graph)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>cent_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(types, deg, bet, clos, eig, const)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cent_df[<span class="fu">order</span>(cent_df<span class="sc">$</span>deg, <span class="at">decreasing =</span> <span class="cn">TRUE</span>),], <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                           types deg        bet         clos        eig
Ted955 Reilly981            TRUE  28 27013.6588 0.0012239902 1.00000000
Timmy68 Nolan344           FALSE   7   885.6299 0.0007002801 0.02480592
Trula820 Johns824          FALSE   7  6649.9824 0.0010000000 0.20635920
Chun678 Hirthe744          FALSE   6  1404.0134 0.0009578544 0.24432907
Corey514 Gaylord332        FALSE   6  2402.5000 0.0009578544 0.19651997
Dennis979 Dickens475       FALSE   6  1785.4929 0.0009652510 0.22004854
Enola75 Tromp100           FALSE   6   758.6271 0.0009560229 0.29716393
Jacqualine965 Aufderhar910 FALSE   6  3265.0333 0.0010080645 0.22137300
Jed345 Muller251           FALSE   6  3019.5333 0.0010080645 0.22693121
Mamie949 Leannon79         FALSE   6   799.1374 0.0009560229 0.28361363
                                const
Ted955 Reilly981           0.03571429
Timmy68 Nolan344           0.14285714
Trula820 Johns824          0.14285714
Chun678 Hirthe744          0.16666667
Corey514 Gaylord332        0.16666667
Dennis979 Dickens475       0.16666667
Enola75 Tromp100           0.16666667
Jacqualine965 Aufderhar910 0.16666667
Jed345 Muller251           0.16666667
Mamie949 Leannon79         0.16666667</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(incidence_graph)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">degree</span>(incidence_graph)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># set the seed to reproduce the plot layout</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>( <span class="dv">235</span> )</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(incidence_graph, </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> layout.fruchterman.reingold, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> vertex_colors,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.color =</span> <span class="st">"gray"</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.label =</span> <span class="cn">NA</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Patient Provider Incidence Graph with Degree Information"</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for vertex colors</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Female"</span>, <span class="st">"Male"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"magenta"</span>, <span class="st">"blue"</span>),   <span class="co"># Fill colors corresponding to vertex colors</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Nodes: Gender"</span>)              <span class="co"># Legend title</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for vertex shapes</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Patient"</span>, <span class="st">"Provider"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>),                      <span class="co"># Point shapes corresponding to vertex shapes</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Nodes: Who"</span>)                     <span class="co"># Legend title</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for edge colors</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="st">"Vertex Size"</span>, </span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">1</span>, </span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">pt.cex =</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">3</span>, <span class="at">length.out =</span> <span class="dv">5</span>), </span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Degree"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here we can see there is one Provider that sees the most patients, with degree centrality = 28. The next largest degree centrality are in the 5 to 7 range and the majority of those nodes are patients.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(incidence_graph)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">closeness</span>(incidence_graph)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># set the seed to reproduce the plot layout</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>( <span class="dv">235</span> )</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(incidence_graph, </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> layout.fruchterman.reingold, </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> vertex_colors,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.color =</span> <span class="st">"gray"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.label =</span> <span class="cn">NA</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Patient Provider Incidence Graph with Closeness Information"</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for vertex colors</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Female"</span>, <span class="st">"Male"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"magenta"</span>, <span class="st">"blue"</span>),   <span class="co"># Fill colors corresponding to vertex colors</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Nodes: Gender"</span>)              <span class="co"># Legend title</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for vertex shapes</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Patient"</span>, <span class="st">"Provider"</span>),  <span class="co"># You can customize these labels</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>),                      <span class="co"># Point shapes corresponding to vertex shapes</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Nodes: Who"</span>)                     <span class="co"># Legend title</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Define legend for edge colors</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, </span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="st">"Vertex Size"</span>, </span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">1</span>, </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">pt.cex =</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">3</span>, <span class="at">length.out =</span> <span class="dv">5</span>), </span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Closeness"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here we see two of the dyads on the outer right side of this incidence graph have the largest closeness score. This is because their network is complete (they are both connected to one another).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>triads_incidence<span class="ot">&lt;-</span>igraph<span class="sc">::</span><span class="fu">triad_census</span>(incidence_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in igraph::triad_census(incidence_graph): At
vendor/cigraph/src/misc/motifs.c:1140 : Triad census called on an undirected
graph. All connections will be treated as mutual.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>triads_incidence</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 8487860       0  159964       0       0       0       0       0       0
[10]       0    1300       0       0       0       0       0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">dyad.census</span>(incidence_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `dyad.census()` was deprecated in igraph 2.0.0.
ℹ Please use `dyad_census()` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `dyad_census()` requires a directed graph.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$mut
[1] 437

$asym
[1] 0

$null
[1] 69314</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transitivity</span>(incidence_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transitivity</span>(incidence_graph, <span class="at">type =</span> <span class="st">"global"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">average.path.length</span>(incidence_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `average.path.length()` was deprecated in igraph 2.0.0.
ℹ Please use `mean_distance()` instead.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.166661</code></pre>
</div>
</div>
<p>Component Structure and Membership</p>
<p>First, let’s look at the network component structure. This gives a list with: membership by node, size of each component, and the total number of components.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(igraph<span class="sc">::</span><span class="fu">components</span>(incidence_graph))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "membership" "csize"      "no"        </code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">components</span>(incidence_graph)<span class="sc">$</span>no <span class="co"># number of components</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">components</span>(incidence_graph)<span class="sc">$</span>csize <span class="co">#Size of each component</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 249   8  18   4   6  10   3   5   3   4   5   9   6   7   2   3   5  10   7
[20]   3   5   2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>degree.wt<span class="ot">=</span>igraph<span class="sc">::</span><span class="fu">strength</span>(incidence_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>glou <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(encounters_el[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>lou <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(glou)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lou, glou, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lou, glou, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size=</span><span class="dv">5</span>, <span class="at">mark.groups =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lou, glou, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size =</span> <span class="dv">5</span>, <span class="at">mark.border =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-14-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>glou <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(encounters_el[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>walktrap <span class="ot">&lt;-</span> <span class="fu">cluster_leading_eigen</span>(glou)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(walktrap, glou, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(walktrap, glou, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size=</span><span class="dv">5</span>, <span class="at">mark.groups =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(walktrap, glou, <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">vertex.size =</span> <span class="dv">5</span>, <span class="at">mark.border =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-15-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>projected_graph <span class="ot">&lt;-</span> <span class="fu">bipartite_projection</span>(incidence_graph)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co">#providers</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(projected_graph<span class="sc">$</span>proj2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>6 x 253 sparse Matrix of class "dgCMatrix"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>  [[ suppressing 253 column names 'Emilio417 Barton704', 'Frederic454 Larkin917', 'Jim478 Goyette777' ... ]]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                               
Emilio417 Barton704   . 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 1 . 1 2 1 . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     1 1 . 1 1 . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  1 2 1 . 1 . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      1 1 1 1 . . . . 1 2 . . 1 2 1 1 1 1 . 1 . . . . . 1 . . 3
Althea11 Ankunding277 . . . . . . 1 1 . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      . . 2 . . . . . . 2 . . . 1 . . . 1 1 . . . . . . . . . .
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      . . . 1 1 5 1 2 1 . 1 1 1 1 . . 1 2 . 2 1 1 2 2 . 1 . . .
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      . . 1 . 1 . . . 1 1 4 2 3 . . . . . . 3 . 1 1 1 1 . . . 1
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      1 1 1 1 1 . . 1 1 1 1 1 1 1 2 2 1 . . . 1 . . . . . . . .
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . 1 . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . 1 . . . . . . . . . . . . . . . . . . . . . . 1 .
Ted955 Reilly981      . . . 1 2 1 1 . . . . . . . . . 1 1 1 1 1 1 . . . . . . 1
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      . . . . . . . . . . . . . . . . . . . . . . . . . . 1 . .
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Ted955 Reilly981      . . . . 1 . . . . . . . . . . . . . . . . . . . . . . . .
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                               
Emilio417 Barton704   . . . . . . . . . . . . . . . . . . . . .
Frederic454 Larkin917 . . . . . . . . . . . . . . . 1 . . . . .
Jim478 Goyette777     . . . . . . . . . . . . . . . . . . . . .
Kirby843 McKenzie376  . . . . . . . . . . . . . . . 1 . . . . .
Ted955 Reilly981      1 . . . . . . . 1 1 . . . 1 . . . . . . .
Althea11 Ankunding277 . . . . . . . . . . . . . . . . . . . . .</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>provider_communities <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(projected_graph<span class="sc">$</span>proj2)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>provider_membership <span class="ot">&lt;-</span> <span class="fu">membership</span>(provider_communities)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(provider_membership)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Emilio417 Barton704       Frederic454 Larkin917 
                          1                           1 
          Jim478 Goyette777        Kirby843 McKenzie376 
                          1                           1 
           Ted955 Reilly981       Althea11 Ankunding277 
                          1                           2 
         Jerrell6 Rippin620         Linette249 Runte676 
                          2                           2 
          Irene779 Garza151       Randy380 Bergstrom287 
                          3                           3 
        Booker670 Casper496       Brock407 VonRueden376 
                          4                           4 
          Chang901 Kutch271         Caroline183 Lang846 
                          4                           5 
       Lyndon118 Trantow673         Monte325 Parisian75 
                          5                           5 
        Rhett759 Padberg411       Cira533 Jakubowski832 
                          5                           6 
         Dion244 Sanford861           Kyoko885 Price929 
                          6                           7 
      Pamelia915 Kilback373         Laverna97 Rippin620 
                          6                           7 
           Lynsey2 Lemke654      Marshall526 Jenkins714 
                          7                           7 
         Neville893 Schoen8       Patrina117 Strosin214 
                          7                           7 
       Beatriz277 Monroy712         Velda682 Gutmann970 
                          6                           6 
    Yesenia104 Wilderman619     Bettina657 Marquardt819 
                          6                           5 
         Mickey576 Borer986        Hellen346 Roberts511 
                          5                           5 
         Ricky354 Renner328             Cira533 Hane680 
                          5                           8 
  Luvenia178 Breitenberg711   Precious140 Runolfsson901 
                          8                           8 
    Archie818 McCullough561      Elmer371 Gusikowski974 
                          6                           6 
     Floy720 Greenfelder433     Barbara209 Maldonado119 
                          6                           9 
          Silvia880 Howe413          Zackary401 Mohr916 
                          9                           9 
        Cristi782 Leannon79           Elvin140 Marks830 
                          7                           7 
        Mariano761 Pagan507        Sharilyn202 Wolff180 
                          7                           6 
           Karey608 Torp761          Waylon572 Lakin515 
                          6                           6 
             Chris95 Kub800    Winston220 McCullough561 
                          3                           3 
      Marisol435 Cedillo160     Merrilee429 Daugherty69 
                          6                           6 
         Chad48 Weissnat378         Maryann106 Hintz995 
                         10                          10 
        Joanna347 Abbott774            Lita714 White193 
                         11                          11 
     Madelaine318 Walker122          Robert854 Klein929 
                         11                          11 
       Julio255 Calvillo618   Kristopher775 Schiller186 
                          2                           2 
      Tereasa291 Mueller846        Jeromy156 Okuneva707 
                          2                           1 
        Jerónimo599 Alba338           Paulene52 Kihn564 
                          1                           1 
       Sheldon401 Hoeger474    Violette536 Halvorson124 
                          1                           1 
           Sam879 Rippin620       Shaquita282 Graham902 
                         12                          12 
        Colin861 Witting912         Freeda113 Crooks415 
                         12                          12 
          Landon622 Kihn564     Obdulia648 Schroeder447 
                         12                          12 
         Jessie665 Pagac496      Tynisha348 Bogisich202 
                          5                           5 
         Lamar193 Daniel959           Vito638 Barton704 
                          6                           6 
      Verda448 Bahringer146     Alta896 Pfannerstill264 
                          1                           5 
      Eustolia154 Paucek755        Jacque955 Streich926 
                          5                           5 
       Eliseo499 Reinger292         Michel472 Zulauf375 
                          1                           1 
        Greta919 Reinger292         Paris331 Ruecker817 
                          7                           7 
       Rutha66 Bergstrom287       Mozell819 Prohaska837 
                          7                           3 
        Walton167 Turner526        Boris111 Romaguera67 
                          3                          13 
         Tracie996 Lesch175           Burton124 Schoen8 
                         13                          14 
         Jean712 Koelpin146        Quentin28 Fritsch593 
                         14                          14 
     Irina619 Stiedemann542           Johna806 Klein929 
                          3                           3 
          Orpha286 Marks830           Pedro316 Ozuna605 
                          3                           5 
María Soledad68 González124        Pearline482 Pagac496 
                          1                           1 
       Refugio197 Crooks415     Rudolf736 Vandervort697 
                          1                           1 
          Duane703 Bosco882        Blanca837 Oquendo599 
                          3                           8 
        Nannie905 Mayert710        Roberto515 Macías944 
                          8                           8 
  Emerita401 Satterfield305           Rod343 Goyette777 
                          8                           8 
       Anderson154 Lemke654        Evangeline16 Howe413 
                          3                           3 
           Carla633 Cano735      Hermelinda327 Hyatt152 
                          1                           1 
  Mathilde204 Wintheiser220            Omer483 Koepp521 
                          1                           6 
        Kathi607 Hilpert278            Gerry91 Block661 
                          8                          15 
          Jack927 Rippin620     Abraham100 McDermott739 
                         15                           4 
         Carlton317 Koch169             Chris95 Haag279 
                          4                           4 
           Greg949 Hilll811          Dee580 Schuster709 
                          4                          14 
        Miyoko154 Paucek755        Eleni953 Franecki195 
                         14                          16 
    Mckinley734 Rodriguez71       Delicia67 Bernhard322 
                         16                           3 
     Lashanda692 Gutmann970        Robert854 Nicolas769 
                          3                           3 
       Terrence276 Kiehn525        Thomas756 Strosin214 
                          1                           1 
          Tyler508 Ferry570            Bea654 Daniel959 
                          1                           3 
         Damian46 Hansen121      Duncan491 Halvorson124 
                          3                           3 
    Shelli447 Schowalter414            Alvin56 Crona259 
                          3                           4 
      Elma843 McCullough561        Ilene33 Greenholt190 
                          4                           4 
          Ross213 Wisozk929         Shanita956 Wolff180 
                          3                           3 
         Caryl47 Bernier607          Ronald408 Huels583 
                         17                          17 
      Rosaria177 Volkman526           Amparo58 Hayes766 
                         17                          18 
       Blanche121 Bailey598           Lucien408 Howe413 
                         18                          18 
      Vella930 Ankunding277        Carson894 Krajcik437 
                         18                           7 
          Clora637 Pagac496         Jamal145 Stroman228 
                          7                           7 
       Donya787 Emmerich580           Lorie307 Grady603 
                          1                           1 
     Peter292 Cartwright189         Hyman89 Schmeler639 
                          1                           1 
         Malka46 Gerhold939           Moshe758 Stamm704 
                          1                           1 
      Eugenio846 Streich926         Imogene688 Braun514 
                         19                          19 
        Leland44 Bernier607           Abdul218 White193 
                         19                          20 
        Guillermo498 Fay398       Kellee902 Buckridge80 
                         20                          20 
       Óscar156 Zaragoza109       Olympia319 Bradtke547 
                         20                           1 
          Sallie654 Jast432      Valentine262 Leannon79 
                          1                           1 
      Antonette454 Tromp100            Leah288 Sauer652 
                          1                           1 
        Stella203 Hammes673         Ashlyn643 Lehner980 
                          1                          21 
        Jolie499 Parisian75       Reggie481 Kassulke119 
                         21                          21 
       Veronika907 Rogahn59           Henry768 Ebert178 
                         21                           7 
       Harlan808 Langosh790   Georgeanna785 Schulist381 
                          1                           1 
         Houston994 Funk324         Leonie332 Wunsch504 
                          8                           8 
       Araceli695 Willms744          Denis399 Kohler843 
                         22                          22 
     Vince741 Morissette863      Zachary28 Gleichner915 
                         22                          23 
Domonique463 Satterfield305            Jean712 Block661 
                         11                          11 
         Lady554 Kovacek682       January966 Roberts511 
                         11                           8 
          Amado512 Adams676     Victoria535 Delvalle807 
                         24                          24 
     Cleveland582 Kuphal363       Natividad796 Davis923 
                         25                          25 
         Shemeka786 Conn188         Vince741 Schmidt332 
                         25                           7 
        Erasmo545 Crooks415    Maricruz991 Considine820 
                         26                          26 
         Sharron285 Batz141          Clarence5 Hyatt152 
                         26                          27 
      Georgianne697 Howe413          Otis335 Dickens475 
                         27                          27 
        Zachery872 Pagac496      Benedict104 Barrows492 
                         27                          20 
     Charlena802 Lockman863           Shasta644 King743 
                         20                          20 
     Octavio643 Prosacco716           France571 Feil794 
                          1                          28 
     Margaret865 Reinger292      Majorie11 Bergstrom287 
                         28                           3 
María Eugenia578 Rentería94         Shella455 Reichel38 
                          3                           3 
     Georgetta870 Turner526           Nerissa37 Hahn503 
                         26                           6 
        Britt177 Schmitt836         Ferdinand55 Moen819 
                          3                          19 
      Lakenya863 Hilpert278        Mickey576 Gerlach374 
                         19                          19 
           Pablo44 Solís294        Hank686 Schneider199 
                         19                          29 
             Kai187 Mann644   Margene509 Schamberger479 
                         29                          29 
        Tyron580 Reinger292           Zachery872 Rau926 
                         29                          15 
       Brendan864 Cremin516         Lizeth852 Ernser583 
                         22                          22 
        Phillip440 Kunze215          Kandi717 Beahan375 
                         12                           3 
         Maxima831 Fahey393           Sulema841 Ryan260 
                          3                           3 
    Brooks264 Williamson769          Cathey606 Kiehn525 
                          3                           3 
    Sharyl439 Williamson769      Margarita164 Abbott774 
                          3                           5 
    Rosemarie149 Gutmann970         Anh979 Schroeder447 
                          5                           6 
     Leopoldo762 Keebler762         Jamie386 Krajcik437 
                          6                           6 
        Lincoln623 Block661       Ivonne773 Turcotte120 
                          1                          19 
       Nickolas58 Schumm995      Renato359 Kertzmann286 
                         19                          19 
    Fernande593 Mosciski958        Sunni15 Schroeder447 
                          3                           1 
            Andy346 Dare640       Carmelita854 Tromp100 
                          7                           7 
  José María211 Carrasco324  Kathlene786 Satterfield305 
                          7                           7 
      Brian582 Cummerata161       Danelle47 Ondricka197 
                         26                          26 
         Delmer311 Nolan344         Matha641 Gerhold939 
                         26                           4 
         Elijah719 White193         Gisele901 Lehner980 
                         27                           1 
         Carolynn568 Von197            Wes853 Torphy630 
                         19                          19 
      Wilhemina814 Lesch175      Carroll471 Eichmann909 
                         30                          10 
          Elmer371 Kutch271 
                         10 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#patients</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(projected_graph<span class="sc">$</span>proj1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>6 x 121 sparse Matrix of class "dgCMatrix"</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>  [[ suppressing 121 column names 'Akiko835 Larkin917', 'Anneliese170 Berge125', 'Annice210 McClure239' ... ]]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                               
Akiko835 Larkin917      . . 1 . 1 . . . . . . . . . . 1 . . . . . 1 . 1 . 1 . 1
Anneliese170 Berge125   . . . . . . . . . . . . . . . . . . . . 1 . . . . . . .
Annice210 McClure239    1 . . . 1 . . . . . . . . . . 1 . . . . . 1 . 1 . 1 . 1
Anthony633 Renner328    . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Arleen939 Kling921      1 . 1 . . . . . 2 1 . . . . . 1 . . . . . 1 . 1 1 1 . 2
Ashlie138 Williamson769 . . . . . . . . . . . . . . . 1 . . . . . . . . . . . .
                                                                               
Akiko835 Larkin917      1 . . . . . 1 1 . . . . . 1 . . . 1 . 1 . 1 1 1 . 1 . .
Anneliese170 Berge125   . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Annice210 McClure239    1 . . . . . 1 1 . . . 1 . 1 . . . 1 . 1 . 2 1 1 . 1 . .
Anthony633 Renner328    . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Arleen939 Kling921      1 . . . . . 1 1 . . . . . 1 . . . 1 . 1 . 1 1 1 . 1 . .
Ashlie138 Williamson769 . . . . . . . . . . . . . . . . . . . . . . . . . . . .
                                                                               
Akiko835 Larkin917      . . 1 . . . . 1 1 1 . . . 1 1 . . . . . . . . . . . . .
Anneliese170 Berge125   . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Annice210 McClure239    . . 1 . . . . 1 1 1 . . . . 1 . . . . . . . . . . . . .
Anthony633 Renner328    . . . . . . . . . . . . 1 . . . . . . . . . . . . . . .
Arleen939 Kling921      . . 1 . . . . 1 1 1 . . . . 1 . . . . . . . . . . . . .
Ashlie138 Williamson769 . . . . . . . . . . . . . . . . . . . . . . . 1 . . . .
                                                                               
Akiko835 Larkin917      1 . . . . 1 . . . . . . . . . . . . . . . 1 . . . . . 1
Anneliese170 Berge125   . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Annice210 McClure239    1 . . . . 1 . . . . . . . . . 1 . . . . . 1 . . . . . 1
Anthony633 Renner328    . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Arleen939 Kling921      1 . . . . 1 . . . . . . . . . . . . . . . 1 . . . . . 1
Ashlie138 Williamson769 . . . . . . . . . . . . . . . . . . . . . . . . . 1 . 1
                                         
Akiko835 Larkin917      . 1 . 2 . . . . .
Anneliese170 Berge125   . . . . . . . . .
Annice210 McClure239    . 1 . . . . . . .
Anthony633 Renner328    . 1 . . . . . . .
Arleen939 Kling921      . 1 . . 2 . . . .
Ashlie138 Williamson769 . . . . . . . . .</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>patient_communities <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(projected_graph<span class="sc">$</span>proj1)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>patient_membership <span class="ot">&lt;-</span> <span class="fu">membership</span>(patient_communities)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(patient_membership)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Akiko835 Larkin917      Anneliese170 Berge125 
                         1                          2 
      Annice210 McClure239       Anthony633 Renner328 
                         3                          1 
        Arleen939 Kling921    Ashlie138 Williamson769 
                         4                          5 
         Avril120 Olson653          Basil991 Hilll811 
                         5                          6 
      Benjamin360 Hintz995     Brendan864 MacGyver246 
                         4                          4 
        Bula88 Prohaska837         Byron202 Rempel203 
                         7                          6 
       Carey440 Stroman228       Carin553 Kassulke119 
                         8                          5 
       Carol737 Watsica258      Casandra937 Grimes165 
                         6                          6 
        Cecille691 Mraz590         Cedrick207 King743 
                         3                          6 
          Chet188 Bruen238     Christeen33 Schmitt836 
                         9                         10 
Christiane220 Ankunding277          Chun678 Hirthe744 
                         2                         11 
         Clara183 Roque844        Corey514 Gaylord332 
                        12                         12 
   Damian46 Satterfield305         Daron260 Hudson301 
                         4                          6 
     Delmar187 Armstrong51       Dennis979 Dickens475 
                        11                          4 
         Devon268 Lakin515          Dione665 O'Kon634 
                         1                          5 
   Dominic463 Wilderman619       Donnetta255 Ratke343 
                         3                         13 
       Drucilla444 Yost751    Elliott563 Wilderman619 
                        14                          3 
    Emmanuel930 Effertz744           Enola75 Tromp100 
                         4                         11 
       Erika442 Schultz619           Evelia928 Kuhn96 
                         3                          7 
      Fabian647 Farrell962         Francis500 Koss676 
                         7                          3 
  Fredrick998 Wilkinson796          Garry927 Olson653 
                         1                          1 
   Garth972 Schamberger479          Gita759 Daniel959 
                         6                          7 
     Herlinda751 Wunsch504            Hollis7 Mraz590 
                        15                          1 
       Horace32 Wiegand701          Hunter736 Moen819 
                        10                         14 
       Isidro558 Grimes165 Jacqualine965 Aufderhar910 
                        16                          3 
            Jay242 Emard19           Jed345 Muller251 
                         1                          3 
        Jesusa437 Mayer370      Joaquin141 Roberts511 
                         1                          3 
    Johnetta529 Volkman526       Josiah310 Strosin214 
                         3                         17 
         Keira502 Hessel84        Keturah238 Doyle959 
                        18                          5 
        Korey682 Abbott774         Latrina689 Smith67 
                         1                         11 
            Leah288 Orn563      Leontine92 Schmidt332 
                        11                         19 
         Luanne915 Veum823     Malcolm243 Leuschke194 
                        20                          1 
        Malcom15 Harber290         Mamie949 Leannon79 
                         1                         11 
      Manuela585 Jáquez824   Margarite168 Turcotte120 
                        21                          5 
    Margart214 Bogisich202        Meri607 Mosciski958 
                         1                          1 
        Meri607 Stracke611        Merle11 Baumbach677 
                        11                          7 
     Milo271 Vandervort697     Mirella222 Schinner682 
                        22                         12 
      Morris740 Ullrich385           Nathan164 Rau926 
                        23                         10 
     Nerissa37 Botsford977        Nicolás801 Rosas160 
                         7                         24 
     Nikita578 Predovic534          Noble66 Douglas31 
                        25                          5 
       Norma469 Langosh790         Onita767 Kemmer137 
                        11                         26 
         Paul232 Walker122      Peggie783 Eichmann909 
                        27                         20 
       Ramona980 O'Hara248         Ranee391 O'Keefe54 
                        11                         21 
          Regine404 Orn563         Retha410 Beatty507 
                        28                          3 
      Ricardo560 Ibarra303        Rocco842 Spencer878 
                        26                          6 
         Ronna740 Feeney44        Roselia779 Bauch723 
                         3                          4 
         Roxane435 Koss676    Russell422 Cummerata161 
                        25                         19 
      Ruthanne627 Fahey393           Sal878 Beahan375 
                        29                         15 
    Salvador46 Schuster709         Sammy219 Spinka232 
                        22                         12 
   Shanika235 McDermott739            Shira43 Mraz590 
                         3                          3 
      Shirley182 Durgan499    Steven797 Morissette863 
                         3                          4 
       Stormy472 Carter549         Susana117 Ochoa950 
                         6                         19 
       Susana117 Rivera179  Tabitha433 Stoltenberg489 
                         6                          1 
    Tatum703 Balistreri607          Tawny381 Hills818 
                        19                          3 
  Theodore876 Bechtelar572           Timmy68 Nolan344 
                        11                          5 
         Toney527 Crona259          Trula820 Johns824 
                         5                          5 
     Valentin929 O'Hara248  Valentine262 Wilderman619 
                        26                          1 
         Velia837 Price929         Vernon254 Yundt842 
                        27                          1 
       Vicente970 Towne435     Waylon572 McDermott739 
                         4                         19 
        Werner409 Boyer713        Wilfred787 Robel940 
                        14                         30 
       Williams176 Mraz590 
                         9 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(projected_graph<span class="sc">$</span>proj1, <span class="at">vertex.color =</span> <span class="fu">membership</span>(patient_communities),</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(projected_graph<span class="sc">$</span>proj2, <span class="at">vertex.color =</span> <span class="fu">membership</span>(provider_communities),</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="cn">NA</span>, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>