<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sue-Ellen Duffy">
<meta name="dcterms.date" content="2024-05-04">

<title>Social_Networks_Blog_Space - POST 8</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Social_Networks_Blog_Space</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">POST 8</h1>
            <p class="subtitle lead">CUG</p>
                                <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">analysis</div>
                <div class="quarto-category">block_model</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sue-Ellen Duffy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 4, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sna)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stplanr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This post is an attempt to make a separate gender matrix and run some CUG analysis</p>
<section id="read-in-data" class="level1">
<h1>Read in Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pat_attr <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data/pat_attr.csv"</span>, </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pro_attr <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data/pro_attr.csv"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>encounters_cleaning <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data//encounters_cleaning.csv"</span>, </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>encounters_cleaned <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data//encounters_cleaned.csv"</span>, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>encounter_attributes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data/encounter_attributes.csv"</span>, </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>encounters_el  <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data/encounters_el.csv"</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>encounters_st_3 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"post5drug_data/encounters.st.3.csv"</span>, </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">...1 =</span> <span class="fu">col_skip</span>()))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>attribute_list <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"post5drug_data/attribute_list.csv"</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>pat_blks6 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"pat_blks6_results.rds"</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>prov_blks6 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"prov_blks6_results.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-bipartite-network-with-attributes" class="level1">
<h1>Create bipartite network with attributes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>encounters.stat <span class="ot">&lt;-</span> <span class="fu">network</span>(encounters_el,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">bipartite =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">matrix.type =</span> <span class="st">"edgelist"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">vertex.attr =</span> attribute_list)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>encounters.ig <span class="ot">&lt;-</span> <span class="fu">graph_from_biadjacency_matrix</span>(encounters.stat)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>projected_graph <span class="ot">&lt;-</span> <span class="fu">bipartite_projection</span>(encounters.ig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>provider_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(projected_graph<span class="sc">$</span>proj2))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>provider.stat <span class="ot">&lt;-</span> <span class="fu">asNetwork</span>(projected_graph<span class="sc">$</span>proj2)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>provider.ig <span class="ot">&lt;-</span> <span class="fu">graph_from_biadjacency_matrix</span>(provider.stat)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">"package:igraph"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>provider.se <span class="ot">&lt;-</span> <span class="fu">equiv.clust</span>(provider_matrix,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a> <span class="at">equiv.fun =</span> <span class="st">"sedist"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a> <span class="at">method =</span> <span class="st">"hamming"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a> <span class="at">mode =</span> <span class="st">"graph"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a> <span class="at">cluster.method =</span> <span class="st">"complete"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="analysis" class="level1">
<h1>ANALYSIS</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gden</span>(provider.stat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.02026008</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gtrans</span>(provider.stat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3677613</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">components</span>(provider.ig)<span class="sc">$</span>no</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(provider.stat <span class="sc">%e%</span><span class="st">"dist"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Length  Class   Mode 
     0   NULL   NULL </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>provider.nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> provider.stat <span class="sc">%v%</span> <span class="st">"vertex.names"</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">degree =</span> <span class="fu">round</span>(sna<span class="sc">::</span><span class="fu">degree</span>(provider.stat, <span class="at">gmode =</span> <span class="st">"digraph"</span>), <span class="dv">2</span>),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">degree.wt =</span> <span class="fu">round</span>(igraph<span class="sc">::</span><span class="fu">strength</span>(provider.ig), <span class="dv">2</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">betweenness =</span> <span class="fu">round</span>(sna<span class="sc">::</span><span class="fu">betweenness</span>(provider.stat, <span class="at">gmode =</span> <span class="st">"digraph"</span>), <span class="dv">2</span>),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">close =</span> <span class="fu">round</span>(sna<span class="sc">::</span><span class="fu">closeness</span>(provider.stat, <span class="at">cmode =</span> <span class="st">"suminvdir"</span>), <span class="dv">2</span>),</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">constraint =</span> <span class="fu">round</span>(igraph<span class="sc">::</span><span class="fu">constraint</span>(provider.ig), <span class="dv">2</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(provider.nodes, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        name degree degree.wt betweenness close constraint
1         Elijah719 White193      6         3        0.00  0.20       0.33
2          Fidel864 Swift555     16         8       32.83  0.21       0.12
3         Virgen207 Hyatt152     12         6      471.83  0.27       0.17
4        Zachery872 Pagac496     12         6       11.50  0.21       0.17
5  Kristopher775 Schiller186      4         2        0.00  0.01       0.50
6         Laine739 Torphy630      4         2        0.00  0.01       0.50
7      Leonarda398 Schumm995      8         4        8.00  0.02       0.25
8          Mathew182 Howe413      8         4       93.50  0.27       0.25
9           Ted955 Reilly981    110        55    18266.49  0.44       0.02
10    Vicente970 Armstrong51      6         3        0.00  0.27       0.33</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To use cug.test, we need an adjacency matrix:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>provider.mat <span class="ot">&lt;-</span> provider.stat[,]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on size</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(provider.mat,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"size"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 1000 

Observed Value: 0.3677613 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<p>Histogram with observed comp. replication statistics:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot observed vs. simulation results</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stst between observed and simulated networks</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>(trans.cug<span class="sc">$</span>obs.stat <span class="sc">-</span> <span class="fu">mean</span>(trans.cug<span class="sc">$</span>rep.stat))<span class="sc">/</span><span class="fu">sd</span>(trans.cug<span class="sc">$</span>rep.stat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -55.93417</code></pre>
</div>
</div>
<p>Let’s create an easy function to return the t-stat for <code>cug.test</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cug.t <span class="ot">&lt;-</span> <span class="cf">function</span>(cug.object){</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  (cug.object<span class="sc">$</span>obs.stat <span class="sc">-</span> <span class="fu">mean</span>(cug.object<span class="sc">$</span>rep.stat))<span class="sc">/</span><span class="fu">sd</span>(cug.object<span class="sc">$</span>rep.stat)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comapre network transitivity to null conditional on size</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(provider.mat,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"size"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0.3677613 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot observed vs. simulated</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat between observed and simulated networks</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -61.16751</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network degree centralization to null conditional on size</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>c.degree.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(provider.stat,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN =</span> centralization,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN.args =</span> <span class="fu">list</span>(<span class="at">FUN =</span> degree,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">cmode =</span> <span class="st">"indegree"</span>),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mode=</span><span class="st">"digraph"</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">cmode=</span><span class="st">"size"</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>c.degree.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 1000 

Observed Value: 0.2296431 
Pr(X&gt;=Obs): 0 
Pr(X&lt;=Obs): 1 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(c.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(c.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.29911</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>b.degree.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(provider.stat,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN =</span> centralization,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN.arg =</span> <span class="fu">list</span>(<span class="at">FUN=</span>betweenness,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">cmode =</span> <span class="st">"directed"</span>),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">cmode =</span> <span class="st">"size"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>b.degree.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0.3726014 
Pr(X&gt;=Obs): 0 
Pr(X&lt;=Obs): 1 </code></pre>
</div>
</div>
<p>obs value of the tstatistic is extremely unlikely to occur under the null hypothesis, suggesting statistical significance</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(b.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(b.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3758.797</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on dyads</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(provider.stat,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"dyad"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: dyad.census 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 1000 

Observed Value: 0.3677613 
Pr(X&gt;=Obs): 0 
Pr(X&lt;=Obs): 1 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 68.48575</code></pre>
</div>
</div>
<p>The <code>edges</code> property is also built into the <code>cug.test()</code> function. Here we run it with only 100 reps, because this is clearly not a random network!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on edges (density)</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(provider.stat,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN=</span>gtrans,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"edges"</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: edges 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0.3677613 
Pr(X&gt;=Obs): 0 
Pr(X&lt;=Obs): 1 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 164.8088</code></pre>
</div>
</div>
<p>#ENCOUNTER LEVEL DATA</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To use cug.test, we need an adjacency matrix:</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>encounter.mat <span class="ot">&lt;-</span> encounters.stat[,]</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on size</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>enc.trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounter.mat,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"size"</span>)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>enc.trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 1000 

Observed Value: 0 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot observed vs. simulation results</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(enc.trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gden</span>(encounters.stat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.007212657</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">components</span>(encounters.ig)<span class="sc">$</span>no</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(encounters.stat <span class="sc">%e%</span><span class="st">"dist"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Length  Class   Mode 
     0   NULL   NULL </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>encounters.nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> encounters.stat<span class="sc">%v%</span><span class="st">"vertex.names"</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">degree=</span>sna<span class="sc">::</span><span class="fu">degree</span>(encounters.stat, <span class="at">gmode =</span> <span class="st">"digraph"</span>),</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">degree.wt =</span> igraph<span class="sc">::</span><span class="fu">strength</span>(encounters.ig),</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">betweenness =</span> sna<span class="sc">::</span><span class="fu">betweenness</span>(encounters.stat, <span class="at">gmode=</span><span class="st">"digraph"</span>),</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">close=</span>sna<span class="sc">::</span><span class="fu">closeness</span>(encounters.stat, <span class="at">cmode =</span> <span class="st">"suminvdir"</span>),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">constraint=</span>igraph<span class="sc">::</span><span class="fu">constraint</span>(encounters.ig)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>encounters.nodes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                 name degree degree.wt
Adam631 Hoppe518                     Adam631 Hoppe518      8         4
Alesha810 Heaney114               Alesha810 Heaney114      6         3
Alissa315 Altenwerth646       Alissa315 Altenwerth646      8         4
Analisa263 Kohler843             Analisa263 Kohler843      8         4
Annice210 Gleason633             Annice210 Gleason633      6         3
Anthony633 Kutch271               Anthony633 Kutch271      6         3
Benedict104 Hintz995             Benedict104 Hintz995      4         2
Carl856 Rempel203                   Carl856 Rempel203     10         5
Chanell45 Morissette863       Chanell45 Morissette863     10         5
Chaya236 Sporer811                 Chaya236 Sporer811      6         3
Cherise743 Prosacco716         Cherise743 Prosacco716     10         5
Cindi877 Hane680                     Cindi877 Hane680     10         5
Cruz300 Wilderman619             Cruz300 Wilderman619      8         4
Damian46 Dach178                     Damian46 Dach178      4         2
Diana207 Stamm704                   Diana207 Stamm704      6         3
Dinorah501 Bechtelar572       Dinorah501 Bechtelar572     10         5
Donald774 Krajcik437             Donald774 Krajcik437      6         3
Dorothea248 Fritsch593         Dorothea248 Fritsch593      8         4
Dortha70 Rutherford999         Dortha70 Rutherford999      8         4
Dusti191 Maggio310                 Dusti191 Maggio310      8         4
Elease461 Boehm581                 Elease461 Boehm581      8         4
Esther279 Schroeder447         Esther279 Schroeder447      8         4
Everette494 O'Hara248           Everette494 O'Hara248      6         3
Gino587 Vandervort697           Gino587 Vandervort697      6         3
Gordon377 Marquardt819         Gordon377 Marquardt819     12         6
Guadalupe206 Wuckert783       Guadalupe206 Wuckert783      8         4
Gwen761 Keeling57                   Gwen761 Keeling57      4         2
Ivan258 Hills818                     Ivan258 Hills818      8         4
Jeanelle736 Simonis280         Jeanelle736 Simonis280      6         3
Jeanette800 Schinner682       Jeanette800 Schinner682      8         4
Johnnie679 Hand679                 Johnnie679 Hand679      8         4
Johnny786 Smith67                   Johnny786 Smith67      6         3
Jorge203 Ferry570                   Jorge203 Ferry570      8         4
Julianne852 Barrows492         Julianne852 Barrows492      8         4
Kandis954 Koepp521                 Kandis954 Koepp521      6         3
Kathlyn335 Wisozk929             Kathlyn335 Wisozk929      6         3
Kathrine376 Bosco882             Kathrine376 Bosco882      6         3
Krystina167 Muller251           Krystina167 Muller251      6         3
Lan153 Schmidt332                   Lan153 Schmidt332     12         6
Lani848 Cole117                       Lani848 Cole117      8         4
Lawerence6 Grimes165             Lawerence6 Grimes165      8         4
Leland44 Huels583                   Leland44 Huels583      6         3
Lemuel304 Mante251                 Lemuel304 Mante251     10         5
Leonel449 Witting912             Leonel449 Witting912     10         5
Lorina403 Cronin387               Lorina403 Cronin387      6         3
Lorretta561 Metz686               Lorretta561 Metz686      8         4
Lou594 Krajcik437                   Lou594 Krajcik437      6         3
Madelyn308 Schumm995             Madelyn308 Schumm995     10         5
Marcos263 Mills423                 Marcos263 Mills423      6         3
Margarito178 Schulist381     Margarito178 Schulist381      8         4
Mario764 Glover433                 Mario764 Glover433     10         5
Maryellen651 Conn188             Maryellen651 Conn188      6         3
Mia349 Runte676                       Mia349 Runte676      8         4
Monroe732 Fritsch593             Monroe732 Fritsch593      6         3
Mose244 Cummerata161             Mose244 Cummerata161      8         4
Mozelle144 Zboncak558           Mozelle144 Zboncak558      8         4
Nelida367 Emard19                   Nelida367 Emard19      8         4
Odilia72 Upton904                   Odilia72 Upton904      8         4
Ola364 Kreiger457                   Ola364 Kreiger457      8         4
Oliva247 Braun514                   Oliva247 Braun514      8         4
Ouida808 Carroll471               Ouida808 Carroll471      6         3
Ramon749 Kozey370                   Ramon749 Kozey370     16         8
Regan713 Kertzmann286           Regan713 Kertzmann286     10         5
Rod343 Prosacco716                 Rod343 Prosacco716      6         3
Rolland302 Kassulke119         Rolland302 Kassulke119      8         4
Rosamaria757 Orn563               Rosamaria757 Orn563     10         5
Rudy520 Hettinger594             Rudy520 Hettinger594     10         5
Rupert654 Jenkins714             Rupert654 Jenkins714      8         4
Russell422 Stracke611           Russell422 Stracke611      6         3
Ryann170 Spencer878               Ryann170 Spencer878     10         5
Sabine292 Feil794                   Sabine292 Feil794     14         7
Sandee884 Rice937                   Sandee884 Rice937      6         3
Serena400 Powlowski563         Serena400 Powlowski563     10         5
Shara355 Bruen238                   Shara355 Bruen238      8         4
Shila857 Heller342                 Shila857 Heller342     10         5
Spencer878 Bailey598             Spencer878 Bailey598      6         3
Stanley702 Cremin516             Stanley702 Cremin516     12         6
Stephan15 Auer97                     Stephan15 Auer97      6         3
Tera136 Swift555                     Tera136 Swift555      8         4
Theodore876 Thiel172             Theodore876 Thiel172      8         4
Tomika243 Walker122               Tomika243 Walker122     14         7
Tommy814 Miller503                 Tommy814 Miller503      8         4
Troy560 Kohler843                   Troy560 Kohler843      8         4
Tyler508 Ankunding277           Tyler508 Ankunding277      8         4
Wilburn655 Sipes176               Wilburn655 Sipes176      4         2
Wilfred787 Nienow652             Wilfred787 Nienow652      8         4
Elijah719 White193                 Elijah719 White193      2         1
Fidel864 Swift555                   Fidel864 Swift555      6         3
Virgen207 Hyatt152                 Virgen207 Hyatt152      6         3
Zachery872 Pagac496               Zachery872 Pagac496      6         3
Kristopher775 Schiller186   Kristopher775 Schiller186      2         1
Laine739 Torphy630                 Laine739 Torphy630      2         1
Leonarda398 Schumm995           Leonarda398 Schumm995      4         2
Mathew182 Howe413                   Mathew182 Howe413      4         2
Ted955 Reilly981                     Ted955 Reilly981     34        17
Vicente970 Armstrong51         Vicente970 Armstrong51      2         1
Daniel959 Wolff180                 Daniel959 Wolff180      2         1
Elmer371 Gusikowski974         Elmer371 Gusikowski974      2         1
Janet238 Crooks415                 Janet238 Crooks415      2         1
Karla801 Cummerata161           Karla801 Cummerata161      8         4
Clement78 Gleason633             Clement78 Gleason633      4         2
Enriqueta274 Barton704         Enriqueta274 Barton704      2         1
Kim439 Hyatt152                       Kim439 Hyatt152      4         2
Janey243 Schoen8                     Janey243 Schoen8      2         1
Luna60 Littel644                     Luna60 Littel644      2         1
Numbers230 Stehr398               Numbers230 Stehr398      4         2
Waylon572 Lakin515                 Waylon572 Lakin515      4         2
Ina660 Hermann103                   Ina660 Hermann103      2         1
Jewel43 Kassulke119               Jewel43 Kassulke119     18         9
Josef103 Klein929                   Josef103 Klein929      2         1
Majorie11 Bergstrom287         Majorie11 Bergstrom287      2         1
Salvador46 Wolff180               Salvador46 Wolff180      2         1
Cyrstal592 Mosciski958         Cyrstal592 Mosciski958      2         1
Gerardo48 Bergstrom287         Gerardo48 Bergstrom287      2         1
Shawn523 Padberg411               Shawn523 Padberg411      2         1
Thanh759 Weber641                   Thanh759 Weber641      8         4
Agnes294 Dooley940                 Agnes294 Dooley940      2         1
Cody889 Ratke343                     Cody889 Ratke343      2         1
Abdul218 Boyer713                   Abdul218 Boyer713      4         2
Cortez851 Price929                 Cortez851 Price929     12         6
Gene733 Ratke343                     Gene733 Ratke343      2         1
Lola232 Collado928                 Lola232 Collado928      4         2
Marcelino726 Hilpert278       Marcelino726 Hilpert278      2         1
Delbert384 Carter549             Delbert384 Carter549      2         1
Eddie505 Keeling57                 Eddie505 Keeling57      6         3
Louis204 Hauck852                   Louis204 Hauck852      4         2
Thad495 Leannon79                   Thad495 Leannon79      4         2
Darlene91 Collier206             Darlene91 Collier206      6         3
Jolynn62 Adams676                   Jolynn62 Adams676      4         2
Junior695 Kuhlman484             Junior695 Kuhlman484      4         2
Justin359 Hayes766                 Justin359 Hayes766      4         2
Cristi782 Miller503               Cristi782 Miller503      4         2
Nevada145 Schmeler639           Nevada145 Schmeler639      2         1
Shayla126 White193                 Shayla126 White193      2         1
Celestina960 Reichert620     Celestina960 Reichert620      2         1
Dante562 Reinger292               Dante562 Reinger292      4         2
Junior695 Pacocha935             Junior695 Pacocha935      2         1
Latoria810 Eichmann909         Latoria810 Eichmann909      2         1
Maryann106 Hintz995               Maryann106 Hintz995      2         1
Dusty207 Lynch190                   Dusty207 Lynch190      4         2
Rhonda22 Bins636                     Rhonda22 Bins636      2         1
Shonna561 Feest103                 Shonna561 Feest103      2         1
Anderson154 Lemke654             Anderson154 Lemke654     12         6
Felicidad691 Luettgen772     Felicidad691 Luettgen772      2         1
Jettie913 Rodriguez71           Jettie913 Rodriguez71      4         2
Mertie42 Lakin515                   Mertie42 Lakin515      8         4
Charley358 Effertz744           Charley358 Effertz744      4         2
Cleveland582 Kuphal363         Cleveland582 Kuphal363      4         2
Lauretta754 Dare640               Lauretta754 Dare640      2         1
Sparkle906 Bernhard322         Sparkle906 Bernhard322      4         2
Arminda86 Trantow673             Arminda86 Trantow673      4         2
Arturo47 Maldonado119           Arturo47 Maldonado119      2         1
Mickey576 Borer986                 Mickey576 Borer986      2         1
Rhett759 Padberg411               Rhett759 Padberg411      2         1
Almeta56 Lehner980                 Almeta56 Lehner980      2         1
Ellie521 Nicolas769               Ellie521 Nicolas769      2         1
Marth98 Mayer370                     Marth98 Mayer370      2         1
Cleo27 Lehner980                     Cleo27 Lehner980      2         1
Hong136 Kassulke119               Hong136 Kassulke119      2         1
Nathanael908 Rogahn59           Nathanael908 Rogahn59      4         2
Aubrey96 Emard19                     Aubrey96 Emard19      2         1
Bud153 Parisian75                   Bud153 Parisian75      6         3
Darrick836 Hoppe518               Darrick836 Hoppe518      4         2
Jules135 Emard19                     Jules135 Emard19      4         2
Mateo562 Barajas558               Mateo562 Barajas558      4         2
Monroe732 Mills423                 Monroe732 Mills423      2         1
Carmelita854 Tromp100           Carmelita854 Tromp100      2         1
Lezlie553 Koss676                   Lezlie553 Koss676      2         1
Rayford811 Bashirian201       Rayford811 Bashirian201      4         2
Assunta351 Haley279               Assunta351 Haley279      2         1
Ross213 Wisozk929                   Ross213 Wisozk929      4         2
Augustine565 Brekke496         Augustine565 Brekke496      4         2
Joanna347 Abbott774               Joanna347 Abbott774      6         3
Lauri399 Keebler762               Lauri399 Keebler762      2         1
Jorge203 Harvey63                   Jorge203 Harvey63      2         1
King743 Predovic534               King743 Predovic534      2         1
Logan497 Fisher429                 Logan497 Fisher429      2         1
Delicia67 Bernhard322           Delicia67 Bernhard322      6         3
Randy380 Bergstrom287           Randy380 Bergstrom287     12         6
Elisha578 Conn188                   Elisha578 Conn188      2         1
Emory494 Schuster709             Emory494 Schuster709      4         2
Sherwood961 Aufderhar910     Sherwood961 Aufderhar910      4         2
Buck819 Johnson679                 Buck819 Johnson679      2         1
Madelaine318 Walker122         Madelaine318 Walker122      2         1
Soledad678 Calderón210         Soledad678 Calderón210      4         2
Vern731 Casper496                   Vern731 Casper496      2         1
Annelle169 Schmidt332           Annelle169 Schmidt332      2         1
Chantell995 Krajcik437         Chantell995 Krajcik437      4         2
Chery887 Kohler843                 Chery887 Kohler843      2         1
Freeda113 Crooks415               Freeda113 Crooks415      4         2
Sam879 Rippin620                     Sam879 Rippin620      2         1
Sharron285 Okuneva707           Sharron285 Okuneva707      2         1
Jamel269 Hudson301                 Jamel269 Hudson301      2         1
Mana631 Boehm581                     Mana631 Boehm581      2         1
Sharron285 Batz141                 Sharron285 Batz141      2         1
Clemente531 Schamberger479 Clemente531 Schamberger479      4         2
Guillermo498 Fay398               Guillermo498 Fay398      2         1
Miguel Ángel46 Delgado712   Miguel Ángel46 Delgado712      2         1
Shasta644 King743                   Shasta644 King743      2         1
Zachery872 Rau926                   Zachery872 Rau926      4         2
Shayne60 Gutmann970               Shayne60 Gutmann970      6         3
January966 Roberts511           January966 Roberts511      6         3
Kyle55 Collier206                   Kyle55 Collier206      2         1
Lacy523 Littel644                   Lacy523 Littel644      2         1
Roberto515 Macías944             Roberto515 Macías944      6         3
Harland508 Breitenberg711   Harland508 Breitenberg711      4         2
Sherwood961 O'Conner199       Sherwood961 O'Conner199      4         2
Alberto639 Adame662               Alberto639 Adame662      2         1
Lady554 Kovacek682                 Lady554 Kovacek682      2         1
Cristopher265 Heaney114       Cristopher265 Heaney114      2         1
Estella474 O'Hara248             Estella474 O'Hara248      2         1
Alonso270 Hand679                   Alonso270 Hand679      2         1
Estell607 Barton704               Estell607 Barton704      2         1
Lanette41 Murray856               Lanette41 Murray856      2         1
Houston994 Funk324                 Houston994 Funk324      2         1
Rebeca548 García15                 Rebeca548 García15      2         1
Sid118 Hammes673                     Sid118 Hammes673      2         1
Ezra452 Torp761                       Ezra452 Torp761      2         1
Tracy345 Wilderman619           Tracy345 Wilderman619      2         1
Christopher407 Fisher429     Christopher407 Fisher429      2         1
Heather971 Goldner995           Heather971 Goldner995      2         1
Saul605 Ratke343                     Saul605 Ratke343      6         3
Antonette454 Tromp100           Antonette454 Tromp100      4         2
Sasha806 D'Amore443               Sasha806 D'Amore443      4         2
Bryon392 Mann644                     Bryon392 Mann644      2         1
Joslyn677 Friesen796             Joslyn677 Friesen796      2         1
Margene509 Schamberger479   Margene509 Schamberger479      2         1
Patricia625 Aragón562           Patricia625 Aragón562      2         1
Kristin64 Will178                   Kristin64 Will178      2         1
Leo278 Strosin214                   Leo278 Strosin214      4         2
Lonnie913 Ferry570                 Lonnie913 Ferry570      2         1
Jess275 Gutmann970                 Jess275 Gutmann970      2         1
Florencia449 Araña824           Florencia449 Araña824      2         1
Gordon377 Monahan736             Gordon377 Monahan736      2         1
Leah288 Sauer652                     Leah288 Sauer652      2         1
Rudolf736 Vandervort697       Rudolf736 Vandervort697      4         2
Maurice742 Pollich983           Maurice742 Pollich983      2         1
Rocky100 Schmeler639             Rocky100 Schmeler639      2         1
Charles364 Prosacco716         Charles364 Prosacco716      2         1
Kimbra238 Runolfsdottir785 Kimbra238 Runolfsdottir785      2         1
Laurie826 Pacocha935             Laurie826 Pacocha935      2         1
Mario764 Aranda843                 Mario764 Aranda843      2         1
Miyoko154 Paucek755               Miyoko154 Paucek755      4         2
Rosanna866 DuBuque211           Rosanna866 DuBuque211      2         1
Shemeka786 Conn188                 Shemeka786 Conn188      2         1
Columbus656 Koch169               Columbus656 Koch169      2         1
Derick144 King743                   Derick144 King743      2         1
Eliana466 Wehner319               Eliana466 Wehner319      2         1
Jane262 Schmeler639               Jane262 Schmeler639      4         2
Jarvis643 Ankunding277         Jarvis643 Ankunding277      2         1
Maude482 Veum823                     Maude482 Veum823      2         1
Parker433 Bailey598               Parker433 Bailey598      2         1
Brooks264 Williamson769       Brooks264 Williamson769      2         1
Adán600 Alicea505                   Adán600 Alicea505      2         1
Isiah14 Nikolaus26                 Isiah14 Nikolaus26      2         1
Cherish740 Toy286                   Cherish740 Toy286      2         1
Fae378 Wiza601                         Fae378 Wiza601      2         1
Anderson154 Kunze215             Anderson154 Kunze215      2         1
Calandra120 Hackett68           Calandra120 Hackett68      2         1
Cedrick207 Gleason633           Cedrick207 Gleason633      2         1
Gino587 Block661                     Gino587 Block661      6         3
Allyson474 Doyle959               Allyson474 Doyle959      2         1
Junior695 Leffler128             Junior695 Leffler128      2         1
Jacinta658 Wintheiser220     Jacinta658 Wintheiser220      2         1
Nilda678 Crona259                   Nilda678 Crona259      2         1
Shane235 Lueilwitz711           Shane235 Lueilwitz711      2         1
Jonathan639 Sporer811           Jonathan639 Sporer811      2         1
Jeanie708 Turner526               Jeanie708 Turner526      2         1
Josefina523 O'Connell601     Josefina523 O'Connell601      2         1
Dale454 Wilderman619             Dale454 Wilderman619      2         1
Olevia458 Hermiston71           Olevia458 Hermiston71      2         1
Valentine262 Corwin846         Valentine262 Corwin846      2         1
Carl856 King743                       Carl856 King743      2         1
Edwardo860 Larkin917             Edwardo860 Larkin917      2         1
Enrique929 Caraballo427       Enrique929 Caraballo427      2         1
Melvin857 Nikolaus26             Melvin857 Nikolaus26      2         1
Errol226 Kiehn525                   Errol226 Kiehn525      2         1
Harland508 Ryan260                 Harland508 Ryan260      2         1
Sharyl439 Williamson769       Sharyl439 Williamson769      2         1
Dana512 Wilkinson796             Dana512 Wilkinson796      2         1
Quentin28 Fritsch593             Quentin28 Fritsch593      2         1
Darnell564 Leannon79             Darnell564 Leannon79      4         2
Lynsey2 Lemke654                     Lynsey2 Lemke654      2         1
Neville893 Schoen8                 Neville893 Schoen8      2         1
Norah104 Jenkins714               Norah104 Jenkins714      2         1
Patrina117 Strosin214           Patrina117 Strosin214      4         2
Erwin847 Stiedemann542         Erwin847 Stiedemann542      2         1
Laurena366 Anderson154         Laurena366 Anderson154      2         1
Orpha286 Marks830                   Orpha286 Marks830      2         1
Antonia30 Elizondo706           Antonia30 Elizondo706      2         1
Drew592 Streich926                 Drew592 Streich926      2         1
Hellen346 Roberts511             Hellen346 Roberts511      2         1
Levi940 Abbott774                   Levi940 Abbott774      2         1
Harland508 Rippin620             Harland508 Rippin620      2         1
Kati243 Ruecker817                 Kati243 Ruecker817      2         1
Lizette501 Lebsack687           Lizette501 Lebsack687      2         1
Latrisha74 Rippin620             Latrisha74 Rippin620      2         1
Maynard46 Buckridge80           Maynard46 Buckridge80      2         1
Azzie965 Feil794                     Azzie965 Feil794      2         1
Eldon28 Cassin499                   Eldon28 Cassin499      2         1
Kaila152 Dibbert990               Kaila152 Dibbert990      2         1
Ellyn26 Windler79                   Ellyn26 Windler79      2         1
Fritz267 Kirlin939                 Fritz267 Kirlin939      2         1
María José279 Godínez202     María José279 Godínez202      2         1
Elvera717 Gusikowski974       Elvera717 Gusikowski974      2         1
Kareem959 Schaefer657           Kareem959 Schaefer657      2         1
Silva841 Grimes165                 Silva841 Grimes165      2         1
Tracie996 Lesch175                 Tracie996 Lesch175      2         1
                            betweenness       close constraint
Adam631 Hoppe518             687.133333 0.132174114 0.25000000
Alesha810 Heaney114           18.000000 0.013572204 0.33333333
Alissa315 Altenwerth646     2789.233333 0.187481257 0.25000000
Analisa263 Kohler843        1248.000000 0.130010317 0.25000000
Annice210 Gleason633         419.000000 0.122774394 0.33333333
Anthony633 Kutch271           18.000000 0.013572204 0.33333333
Benedict104 Hintz995           1.000000 0.010314875 0.50000000
Carl856 Rempel203           1660.000000 0.153112794 0.20000000
Chanell45 Morissette863     1408.236453 0.153927126 0.20000000
Chaya236 Sporer811           834.000000 0.148769689 0.33333333
Cherise743 Prosacco716      1237.533333 0.123409408 0.20000000
Cindi877 Hane680             439.133333 0.132181870 0.20000000
Cruz300 Wilderman619        1120.676026 0.154741458 0.25000000
Damian46 Dach178               1.000000 0.104213331 0.50000000
Diana207 Stamm704             18.000000 0.013572204 0.33333333
Dinorah501 Bechtelar572     1031.966667 0.123409408 0.20000000
Donald774 Krajcik437           6.000000 0.009771987 0.33333333
Dorothea248 Fritsch593      1017.880952 0.150941241 0.25000000
Dortha70 Rutherford999      1395.970434 0.146590380 0.25000000
Dusti191 Maggio310            11.000000 0.014657980 0.25000000
Elease461 Boehm581            36.000000 0.017915309 0.25000000
Esther279 Schroeder447      1248.000000 0.184549661 0.25000000
Everette494 O'Hara248         18.000000 0.013572204 0.33333333
Gino587 Vandervort697        457.833333 0.116398585 0.33333333
Gordon377 Marquardt819      4225.000000 0.192281940 0.16666667
Guadalupe206 Wuckert783     2059.000000 0.185798304 0.25000000
Gwen761 Keeling57            418.000000 0.093873897 0.50000000
Ivan258 Hills818            1143.000571 0.146590380 0.25000000
Jeanelle736 Simonis280       549.000000 0.128261442 0.33333333
Jeanette800 Schinner682       36.000000 0.017915309 0.25000000
Johnnie679 Hand679          2798.225813 0.193422005 0.25000000
Johnny786 Smith67            217.466667 0.127885298 0.33333333
Jorge203 Ferry570           3503.800000 0.188349878 0.25000000
Julianne852 Barrows492      1248.000000 0.102687839 0.25000000
Kandis954 Koepp521           834.000000 0.091899866 0.33333333
Kathlyn335 Wisozk929         834.000000 0.130344863 0.33333333
Kathrine376 Bosco882        1243.000000 0.126232074 0.33333333
Krystina167 Muller251          6.000000 0.009771987 0.33333333
Lan153 Schmidt332           1883.406623 0.147386381 0.16666667
Lani848 Cole117              853.312446 0.187046947 0.25000000
Lawerence6 Grimes165        1138.500000 0.130169306 0.25000000
Leland44 Huels583              7.000000 0.098409716 0.33333333
Lemuel304 Mante251          2518.866667 0.190087121 0.20000000
Leonel449 Witting912        2282.000000 0.190087121 0.20000000
Lorina403 Cronin387          107.600000 0.118398151 0.33333333
Lorretta561 Metz686          994.236453 0.151755573 0.25000000
Lou594 Krajcik437              6.000000 0.009771987 0.33333333
Madelyn308 Schumm995        4812.000000 0.190792875 0.20000000
Marcos263 Mills423             3.000000 0.012486428 0.33333333
Margarito178 Schulist381      15.000000 0.014657980 0.25000000
Mario764 Glover433          6989.666667 0.193034228 0.20000000
Maryellen651 Conn188        1649.000000 0.183626751 0.33333333
Mia349 Runte676               12.000000 0.013029316 0.25000000
Monroe732 Fritsch593          22.000000 0.014657980 0.33333333
Mose244 Cummerata161         680.366667 0.132174114 0.25000000
Mozelle144 Zboncak558         36.000000 0.017915309 0.25000000
Nelida367 Emard19           2466.000000 0.122920809 0.25000000
Odilia72 Upton904           1330.500000 0.130169306 0.25000000
Ola364 Kreiger457             36.000000 0.017915309 0.25000000
Oliva247 Braun514             30.000000 0.016829533 0.25000000
Ouida808 Carroll471          419.000000 0.122340083 0.33333333
Ramon749 Kozey370          11840.933483 0.210305827 0.12500000
Regan713 Kertzmann286        538.050586 0.142751385 0.20000000
Rod343 Prosacco716            18.000000 0.013572204 0.33333333
Rolland302 Kassulke119      1419.000000 0.186232615 0.25000000
Rosamaria757 Orn563        10660.000000 0.154636523 0.20000000
Rudy520 Hettinger594        3356.276211 0.195593558 0.20000000
Rupert654 Jenkins714        1014.363853 0.187046947 0.25000000
Russell422 Stracke611         18.000000 0.013572204 0.33333333
Ryann170 Spencer878         2747.333333 0.136839075 0.20000000
Sabine292 Feil794          16078.251067 0.205103149 0.14285714
Sandee884 Rice937              6.000000 0.009771987 0.33333333
Serena400 Powlowski563      1981.890138 0.159449074 0.20000000
Shara355 Bruen238            837.000000 0.128814671 0.25000000
Shila857 Heller342          1413.855556 0.139439768 0.20000000
Spencer878 Bailey598          22.000000 0.014657980 0.33333333
Stanley702 Cremin516        1646.866667 0.125580961 0.16666667
Stephan15 Auer97               6.000000 0.009771987 0.33333333
Tera136 Swift555              12.000000 0.013029316 0.25000000
Theodore876 Thiel172        1279.000000 0.151755573 0.25000000
Tomika243 Walker122         1855.633333 0.127752514 0.14285714
Tommy814 Miller503           978.000000 0.130925472 0.25000000
Troy560 Kohler843             30.000000 0.016829533 0.25000000
Tyler508 Ankunding277       1248.000000 0.140366320 0.25000000
Wilburn655 Sipes176          418.000000 0.129031826 0.50000000
Wilfred787 Nienow652        1248.000000 0.131301616 0.25000000
Elijah719 White193             0.000000 0.107643207 1.00000000
Fidel864 Swift555             78.566667 0.116763728 0.33333333
Virgen207 Hyatt152          1328.866667 0.151951812 0.33333333
Zachery872 Pagac496           41.866667 0.115135064 0.33333333
Kristopher775 Schiller186      0.000000 0.009229099 1.00000000
Laine739 Torphy630             0.000000 0.009229099 1.00000000
Leonarda398 Schumm995         18.000000 0.013029316 0.50000000
Mathew182 Howe413            296.100000 0.147174396 0.50000000
Ted955 Reilly981           36577.138890 0.257088568 0.05882353
Vicente970 Armstrong51         0.000000 0.143482757 1.00000000
Daniel959 Wolff180             0.000000 0.106293742 1.00000000
Elmer371 Gusikowski974         0.000000 0.106293742 1.00000000
Janet238 Crooks415             0.000000 0.106293742 1.00000000
Karla801 Cummerata161       1924.466667 0.155969185 0.25000000
Clement78 Gleason633         414.000000 0.145491443 0.50000000
Enriqueta274 Barton704         0.000000 0.102388825 1.00000000
Kim439 Hyatt152              414.000000 0.145491443 0.50000000
Janey243 Schoen8               0.000000 0.009229099 1.00000000
Luna60 Littel644               0.000000 0.009229099 1.00000000
Numbers230 Stehr398            3.000000 0.011400651 0.50000000
Waylon572 Lakin515             3.000000 0.011400651 0.50000000
Ina660 Hermann103              0.000000 0.120591090 1.00000000
Jewel43 Kassulke119        10586.177835 0.195262654 0.11111111
Josef103 Klein929              0.000000 0.120591090 1.00000000
Majorie11 Bergstrom287         0.000000 0.120591090 1.00000000
Salvador46 Wolff180            0.000000 0.120591090 1.00000000
Cyrstal592 Mosciski958         0.000000 0.121025401 1.00000000
Gerardo48 Bergstrom287         0.000000 0.121025401 1.00000000
Shawn523 Padberg411            0.000000 0.121025401 1.00000000
Thanh759 Weber641            246.376026 0.132588919 0.25000000
Agnes294 Dooley940             0.000000 0.118962426 1.00000000
Cody889 Ratke343               0.000000 0.118962426 1.00000000
Abdul218 Boyer713              5.500000 0.103441464 0.50000000
Cortez851 Price929          9646.066667 0.147687555 0.16666667
Gene733 Ratke343               0.000000 0.099641247 1.00000000
Lola232 Collado928             5.500000 0.103441464 0.50000000
Marcelino726 Hilpert278        0.000000 0.099641247 1.00000000
Delbert384 Carter549           0.000000 0.107108075 1.00000000
Eddie505 Keeling57           276.466667 0.151354635 0.33333333
Louis204 Hauck852            132.333333 0.147554418 0.50000000
Thad495 Leannon79            132.333333 0.147554418 0.50000000
Darlene91 Collier206         745.543076 0.135793134 0.33333333
Jolynn62 Adams676             48.236453 0.124174152 0.50000000
Junior695 Kuhlman484         208.000000 0.122382621 0.50000000
Justin359 Hayes766           208.000000 0.122382621 0.50000000
Cristi782 Miller503           18.000000 0.013029316 0.50000000
Nevada145 Schmeler639          0.000000 0.009229099 1.00000000
Shayla126 White193             0.000000 0.009229099 1.00000000
Celestina960 Reichert620       0.000000 0.099641247 1.00000000
Dante562 Reinger292           17.600000 0.105884461 0.50000000
Junior695 Pacocha935           0.000000 0.006514658 1.00000000
Latoria810 Eichmann909         0.000000 0.006514658 1.00000000
Maryann106 Hintz995            0.000000 0.006514658 1.00000000
Dusty207 Lynch190             48.714286 0.128238058 0.50000000
Rhonda22 Bins636               0.000000 0.119776758 1.00000000
Shonna561 Feest103             0.000000 0.119776758 1.00000000
Anderson154 Lemke654        4533.850156 0.169591800 0.16666667
Felicidad691 Luettgen772       0.000000 0.117170895 1.00000000
Jettie913 Rodriguez71        187.520602 0.120156780 0.50000000
Mertie42 Lakin515           1346.891716 0.140340586 0.25000000
Charley358 Effertz744          1.333333 0.011400651 0.50000000
Cleveland582 Kuphal363         1.333333 0.011400651 0.50000000
Lauretta754 Dare640            0.000000 0.009229099 1.00000000
Sparkle906 Bernhard322         1.333333 0.011400651 0.50000000
Arminda86 Trantow673          32.000000 0.016286645 0.50000000
Arturo47 Maldonado119          0.000000 0.011672096 1.00000000
Mickey576 Borer986             0.000000 0.011672096 1.00000000
Rhett759 Padberg411            0.000000 0.011672096 1.00000000
Almeta56 Lehner980             0.000000 0.141799804 1.00000000
Ellie521 Nicolas769            0.000000 0.141799804 1.00000000
Marth98 Mayer370               0.000000 0.141799804 1.00000000
Cleo27 Lehner980               0.000000 0.009229099 1.00000000
Hong136 Kassulke119            0.000000 0.009229099 1.00000000
Nathanael908 Rogahn59         18.000000 0.013029316 0.50000000
Aubrey96 Emard19               0.000000 0.096694294 1.00000000
Bud153 Parisian75            850.000000 0.153033711 0.33333333
Darrick836 Hoppe518          820.000000 0.149124916 0.50000000
Jules135 Emard19             414.000000 0.149233494 0.50000000
Mateo562 Barajas558          820.000000 0.149124916 0.50000000
Monroe732 Mills423             0.000000 0.145433276 1.00000000
Carmelita854 Tromp100          0.000000 0.142505558 1.00000000
Lezlie553 Koss676              0.000000 0.081566045 1.00000000
Rayford811 Bashirian201      832.000000 0.107587626 0.50000000
Assunta351 Haley279            0.000000 0.117170895 1.00000000
Ross213 Wisozk929             68.572961 0.121785444 0.50000000
Augustine565 Brekke496        20.666667 0.113148352 0.50000000
Joanna347 Abbott774         2432.333333 0.155259552 0.33333333
Lauri399 Keebler762            0.000000 0.106036517 1.00000000
Jorge203 Harvey63              0.000000 0.011672096 1.00000000
King743 Predovic534            0.000000 0.011672096 1.00000000
Logan497 Fisher429             0.000000 0.011672096 1.00000000
Delicia67 Bernhard322        150.303965 0.152979422 0.33333333
Randy380 Bergstrom287       1184.813977 0.162751409 0.16666667
Elisha578 Conn188              0.000000 0.144025645 1.00000000
Emory494 Schuster709        1312.866667 0.149345949 0.50000000
Sherwood961 Aufderhar910    1021.100000 0.149780260 0.50000000
Buck819 Johnson679             0.000000 0.086303391 1.00000000
Madelaine318 Walker122         0.000000 0.086303391 1.00000000
Soledad678 Calderón210      1648.000000 0.114777016 0.50000000
Vern731 Casper496              0.000000 0.086303391 1.00000000
Annelle169 Schmidt332          0.000000 0.078573842 1.00000000
Chantell995 Krajcik437      1242.000000 0.103604331 0.50000000
Chery887 Kohler843             0.000000 0.078573842 1.00000000
Freeda113 Crooks415         1242.000000 0.156999380 0.50000000
Sam879 Rippin620               0.000000 0.107840856 1.00000000
Sharron285 Okuneva707          0.000000 0.107840856 1.00000000
Jamel269 Hudson301             0.000000 0.006514658 1.00000000
Mana631 Boehm581               0.000000 0.006514658 1.00000000
Sharron285 Batz141             0.000000 0.006514658 1.00000000
Clemente531 Schamberger479   942.225534 0.160039553 0.50000000
Guillermo498 Fay398            0.000000 0.117323303 1.00000000
Miguel Ángel46 Delgado712      0.000000 0.117323303 1.00000000
Shasta644 King743              0.000000 0.117323303 1.00000000
Zachery872 Rau926            942.225534 0.160039553 0.50000000
Shayne60 Gutmann970          160.026737 0.153793754 0.33333333
January966 Roberts511        220.666667 0.112419331 0.33333333
Kyle55 Collier206              0.000000 0.106447561 1.00000000
Lacy523 Littel644              0.000000 0.106447561 1.00000000
Roberto515 Macías944        3239.000000 0.153875187 0.33333333
Harland508 Breitenberg711    102.166667 0.108619113 0.50000000
Sherwood961 O'Conner199      102.166667 0.108619113 0.50000000
Alberto639 Adame662            0.000000 0.144568533 1.00000000
Lady554 Kovacek682             0.000000 0.144568533 1.00000000
Cristopher265 Heaney114        0.000000 0.120211068 1.00000000
Estella474 O'Hara248           0.000000 0.120211068 1.00000000
Alonso270 Hand679              0.000000 0.006514658 1.00000000
Estell607 Barton704            0.000000 0.006514658 1.00000000
Lanette41 Murray856            0.000000 0.006514658 1.00000000
Houston994 Funk324             0.000000 0.145026110 1.00000000
Rebeca548 García15             0.000000 0.145026110 1.00000000
Sid118 Hammes673               0.000000 0.145026110 1.00000000
Ezra452 Torp761                0.000000 0.009229099 1.00000000
Tracy345 Wilderman619          0.000000 0.009229099 1.00000000
Christopher407 Fisher429       0.000000 0.146410475 1.00000000
Heather971 Goldner995          0.000000 0.146410475 1.00000000
Saul605 Ratke343            3143.000000 0.156888217 0.33333333
Antonette454 Tromp100        414.000000 0.144677111 0.50000000
Sasha806 D'Amore443          414.000000 0.144677111 0.50000000
Bryon392 Mann644               0.000000 0.008143322 1.00000000
Joslyn677 Friesen796           0.000000 0.008143322 1.00000000
Margene509 Schamberger479      0.000000 0.008143322 1.00000000
Patricia625 Aragón562          0.000000 0.008143322 1.00000000
Kristin64 Will178              0.000000 0.010043431 1.00000000
Leo278 Strosin214             24.000000 0.014657980 0.50000000
Lonnie913 Ferry570             0.000000 0.010043431 1.00000000
Jess275 Gutmann970             0.000000 0.107643207 1.00000000
Florencia449 Araña824          0.000000 0.011672096 1.00000000
Gordon377 Monahan736           0.000000 0.011672096 1.00000000
Leah288 Sauer652               0.000000 0.011672096 1.00000000
Rudolf736 Vandervort697       32.000000 0.016286645 0.50000000
Maurice742 Pollich983          0.000000 0.099804114 1.00000000
Rocky100 Schmeler639           0.000000 0.099804114 1.00000000
Charles364 Prosacco716         0.000000 0.011672096 1.00000000
Kimbra238 Runolfsdottir785     0.000000 0.011672096 1.00000000
Laurie826 Pacocha935           0.000000 0.011672096 1.00000000
Mario764 Aranda843             0.000000 0.010857763 1.00000000
Miyoko154 Paucek755           24.000000 0.014657980 0.50000000
Rosanna866 DuBuque211          0.000000 0.010857763 1.00000000
Shemeka786 Conn188             0.000000 0.010857763 1.00000000
Columbus656 Koch169            0.000000 0.102117381 1.00000000
Derick144 King743              0.000000 0.155197508 1.00000000
Eliana466 Wehner319            0.000000 0.155197508 1.00000000
Jane262 Schmeler639          648.415584 0.159432036 0.50000000
Jarvis643 Ankunding277         0.000000 0.155197508 1.00000000
Maude482 Veum823               0.000000 0.155197508 1.00000000
Parker433 Bailey598            0.000000 0.155197508 1.00000000
Brooks264 Williamson769        0.000000 0.113652462 1.00000000
Adán600 Alicea505              0.000000 0.009229099 1.00000000
Isiah14 Nikolaus26             0.000000 0.009229099 1.00000000
Cherish740 Toy286              0.000000 0.142777002 1.00000000
Fae378 Wiza601                 0.000000 0.142777002 1.00000000
Anderson154 Kunze215           0.000000 0.122008945 1.00000000
Calandra120 Hackett68          0.000000 0.122008945 1.00000000
Cedrick207 Gleason633          0.000000 0.122008945 1.00000000
Gino587 Block661           12208.000000 0.170486273 0.33333333
Allyson474 Doyle959            0.000000 0.147821984 1.00000000
Junior695 Leffler128           0.000000 0.147821984 1.00000000
Jacinta658 Wintheiser220       0.000000 0.143211313 1.00000000
Nilda678 Crona259              0.000000 0.009229099 1.00000000
Shane235 Lueilwitz711          0.000000 0.009229099 1.00000000
Jonathan639 Sporer811          0.000000 0.110162467 1.00000000
Jeanie708 Turner526            0.000000 0.153199162 1.00000000
Josefina523 O'Connell601       0.000000 0.153199162 1.00000000
Dale454 Wilderman619           0.000000 0.006514658 1.00000000
Olevia458 Hermiston71          0.000000 0.006514658 1.00000000
Valentine262 Corwin846         0.000000 0.006514658 1.00000000
Carl856 King743                0.000000 0.124437840 1.00000000
Edwardo860 Larkin917           0.000000 0.124437840 1.00000000
Enrique929 Caraballo427        0.000000 0.105637106 1.00000000
Melvin857 Nikolaus26           0.000000 0.105637106 1.00000000
Errol226 Kiehn525              0.000000 0.111806643 1.00000000
Harland508 Ryan260             0.000000 0.111806643 1.00000000
Sharyl439 Williamson769        0.000000 0.111806643 1.00000000
Dana512 Wilkinson796           0.000000 0.010043431 1.00000000
Quentin28 Fritsch593           0.000000 0.010043431 1.00000000
Darnell564 Leannon79          12.666667 0.105884461 0.50000000
Lynsey2 Lemke654               0.000000 0.100455580 1.00000000
Neville893 Schoen8             0.000000 0.100455580 1.00000000
Norah104 Jenkins714            0.000000 0.100455580 1.00000000
Patrina117 Strosin214         12.666667 0.105884461 0.50000000
Erwin847 Stiedemann542         0.000000 0.006514658 1.00000000
Laurena366 Anderson154         0.000000 0.006514658 1.00000000
Orpha286 Marks830              0.000000 0.006514658 1.00000000
Antonia30 Elizondo706          0.000000 0.008143322 1.00000000
Drew592 Streich926             0.000000 0.008143322 1.00000000
Hellen346 Roberts511           0.000000 0.008143322 1.00000000
Levi940 Abbott774              0.000000 0.008143322 1.00000000
Harland508 Rippin620           0.000000 0.101269912 1.00000000
Kati243 Ruecker817             0.000000 0.101269912 1.00000000
Lizette501 Lebsack687          0.000000 0.101269912 1.00000000
Latrisha74 Rippin620           0.000000 0.106937453 1.00000000
Maynard46 Buckridge80          0.000000 0.106937453 1.00000000
Azzie965 Feil794               0.000000 0.010857763 1.00000000
Eldon28 Cassin499              0.000000 0.010857763 1.00000000
Kaila152 Dibbert990            0.000000 0.010857763 1.00000000
Ellyn26 Windler79              0.000000 0.113950933 1.00000000
Fritz267 Kirlin939             0.000000 0.113950933 1.00000000
María José279 Godínez202       0.000000 0.113950933 1.00000000
Elvera717 Gusikowski974        0.000000 0.106819827 1.00000000
Kareem959 Schaefer657          0.000000 0.107393737 1.00000000
Silva841 Grimes165             0.000000 0.107393737 1.00000000
Tracie996 Lesch175             0.000000 0.107393737 1.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To use cug.test, we need an adjacency matrix:</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>encounters.mat <span class="ot">&lt;-</span> encounters.stat[,]</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on size</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounters.mat,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"size"</span>,</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<p>Histogram with observed comp. replication statistics:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot observed vs. simulation results</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stst between observed and simulated networks</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>(trans.cug<span class="sc">$</span>obs.stat <span class="sc">-</span> <span class="fu">mean</span>(trans.cug<span class="sc">$</span>rep.stat))<span class="sc">/</span><span class="fu">sd</span>(trans.cug<span class="sc">$</span>rep.stat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -302.456</code></pre>
</div>
</div>
<p>Let’s create an easy function to return the t-stat for <code>cug.test</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>cug.t <span class="ot">&lt;-</span> <span class="cf">function</span>(cug.object){</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  (cug.object<span class="sc">$</span>obs.stat <span class="sc">-</span> <span class="fu">mean</span>(cug.object<span class="sc">$</span>rep.stat))<span class="sc">/</span><span class="fu">sd</span>(cug.object<span class="sc">$</span>rep.stat)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comapre network transitivity to null conditional on size</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounters.mat,</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"size"</span>,</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot observed vs. simulated</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat between observed and simulated networks</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -330.9362</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network degree centralization to null conditional on size</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>c.degree.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounters.stat,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN =</span> centralization,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN.args =</span> <span class="fu">list</span>(<span class="at">FUN =</span> degree,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">cmode =</span> <span class="st">"indegree"</span>),</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mode=</span><span class="st">"digraph"</span>,</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">cmode=</span><span class="st">"size"</span>)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>c.degree.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 1000 

Observed Value: 0.04831882 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(c.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(c.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -3.112482</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>b.degree.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounters.stat,</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN =</span> centralization,</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">FUN.arg =</span> <span class="fu">list</span>(<span class="at">FUN=</span>betweenness,</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">cmode =</span> <span class="st">"directed"</span>),</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">cmode =</span> <span class="st">"size"</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>b.degree.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: size 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0.3826019 
Pr(X&gt;=Obs): 0 
Pr(X&lt;=Obs): 1 </code></pre>
</div>
</div>
<p>obs value of the tstatistic is extremely unlikely to occur under the null hypothesis, suggesting statistical significance</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(b.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(b.degree.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7078.678</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on dyads</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounters.stat,</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> gtrans,</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"dyad"</span>)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: dyad.census 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 1000 

Observed Value: 0 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0.163 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-stat</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1.362052</code></pre>
</div>
</div>
<p>The <code>edges</code> property is also built into the <code>cug.test()</code> function. Here we run it with only 100 reps, because this is clearly not a random network!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare network transitivity to null conditional on edges (density)</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>trans.cug <span class="ot">&lt;-</span> <span class="fu">cug.test</span>(encounters.stat,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN=</span>gtrans,</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">mode =</span> <span class="st">"digraph"</span>,</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cmode =</span> <span class="st">"edges"</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">reps =</span> <span class="dv">100</span>)</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>trans.cug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Conditional Uniform Graph Test

Conditioning Method: edges 
Graph Type: digraph 
Diagonal Used: FALSE 
Replications: 100 

Observed Value: 0 
Pr(X&gt;=Obs): 1 
Pr(X&lt;=Obs): 0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="post_8_drug_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cug.t</span>(trans.cug)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -3.621711</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>